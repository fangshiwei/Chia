"use strict";window.Store.addView("Layout",function(){return Backbone.View.extend({el:".wrapper",events:{"click .js-login":"doLogin","click .js-register":"doRegister","click .js-logout":"doLogout","mouseenter .header-account-panel .account-label":"openMenu","click .header-account-panel .account-label":"closeMenu","mouseleave .header-account-panel .account-label":"closeMenu","touchstart .js-m-btn":"mTouchDonw","touchend .js-m-btn":"mTouchUp"},initialize:function(){var e=this;e.UserService=Store.getService("User"),e.CartService=Store.getService("Cart"),e.DialogPlugin=Store.getPlugin("Dialog"),e.$accountWrapper=e.$(".header-account-panel"),e.UtilService=Store.getService("Util"),e.AccountModel=Store.getModel("Account"),e.listenTo(e.AccountModel,"change",e.login)},render:function(e){},login:function(){var e=this,t=ct.get("tempMainLogin",!0);e.$accountWrapper.html(ct.compile(t,e.AccountModel.toJSON()))},logout:function(){var e=this;$.cookies.del("SCA_LOGIN"),e.$accountWrapper.html(ct.get("tempMainLogout",!0))},doLogin:function(){var e=this;e.UserService.isLogin().fail(function(){e.UserService.openLogin()})},doRegister:function(){var e=this;e.UserService.register()},doLogout:function(){var e=this;e.DialogPlugin.confirm({title:"退出登录",message:"确定退出登录吗？",ok:function(t){t.close(),e.UserService.logout()}})},openMenu:function(e){var t=$(e.currentTarget);t.toggleClass("account-label-hover",!0)},closeMenu:function(e){var t=$(e.currentTarget);t.toggleClass("account-label-hover",!1)},mTouchDonw:function(e){var t=$(e.currentTarget);t.toggleClass("m-active",!0)},mTouchUp:function(e){var t=$(e.currentTarget);t.toggleClass("m-active",!1)}})},!0),window.Store.addService("LocalStorage",function(e,t){function a(){var e=this;e.canUsed=!!window.localStorage&&"object"==typeof JSON&&null!==JSON&&"function"==typeof JSON.parse&&"function"==typeof JSON.stringify}return a.prototype.init=function(){},a.prototype.get=function(t,a){var o=this,a=a||{},i=e.cookies.get(t,a);if(o.canUsed&&!a.useCookie){var n=decodeURIComponent(localStorage.getItem(t)),r=i;try{"null"!==n&&(r=JSON.parse(n))}catch(s){r=n}return i&&(o.remove(t,a),o.set(t,r)),r}},a.prototype.set=function(t,a,o){var i=this,o=o||{};i.canUsed&&!o.useCookie?(i.remove(t),"string"!=typeof a&&(a=JSON.stringify(a)),localStorage.setItem(t,encodeURIComponent(a))):e.cookies.set(t,a,o)},a.prototype.filter=function(t,a){var o=this,a=a||{},i=e.cookies.filter(t,a);if(o.canUsed&&!a.useCookie){"string"==typeof t&&(t=new RegExp(t));for(var n in localStorage)n.match(t)&&(i[n]=o.get(n,a))}return i},a.prototype.remove=function(t,a){var o=this,a=a||{};o.canUsed&&localStorage.removeItem(t),e.cookies.del(t,a)},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addService("Mobile",function(e,t){function a(){var e=this;e.type={},e.UserService=null,e.MobileGoodsService=null,e.StorageService=null}return a.prototype.init=function(){var e=this;e.UserService=t.getService("User"),e.MobileGoodsService=t.getService("MobileGoods"),e.StorageService=t.getService("LocalStorage")},a.prototype.mobileQueue=function(){var e={t1:{normal:["100007201","100000201","100000202"],defect:["100007001","100007002","100007005","100007006","100007003","100007004"]}};return e},a.prototype.basePageParams=function(){var e=[{key:"color",list:[{value:"black",label:"黑色"},{value:"white",label:"白色"}]},{key:"defect",list:[{value:1,label:"有瑕疵"},{value:0,label:"无瑕疵"}]},{key:"standard",list:[{value:"3G",label:"3G 版"},{value:"4G",label:"4G 版"}]},{key:"capacity",list:[{value:"16GB",label:"16GB"},{value:"32GB",label:"32GB"}]}];return[].concat(e)},a.prototype.pageParams=function(t){var a=this,o=[],i=(a.basePageParams(),{});o=[].concat(a.MobileGoodsService.listDefectT1);var n=[],r={};e.each(o,function(e,t){t.isSale&&(r[t.standard]||(r[t.standard]=[],n.push(t.standard)),r[t.standard].unshift(t))}),n.sort();var s=[];e.each(n,function(e,t){s.push(r[t])});var c=[];e.each(s,function(t,a){var o=[],i={};e.each(a,function(e,t){i[t.capacity]||(i[t.capacity]=[],o.push(t.capacity)),i[t.capacity].push(t)}),o.sort(),e.each(o,function(e,t){c.push(i[t])})}),i.groupStandard=c;var l=[].concat(c),u={};return e.each(l,function(t,a){e.each(a,function(e,a){u[a.id]={groupIndex:t,phoneIndex:e,mobileData:a}})}),i.sort=u,i},a.prototype.pageNormalParams=function(t){var a=this,o=[],i=a.basePageParams(),n={};i.splice(1,1);var r=_.find(i,function(e){return"color"==e.key});return r.list.push({value:"anniversary",label:"一周年纪念版"}),o=[].concat(a.MobileGoodsService.listNormalT1),e.each(i,function(a,i){var r=!1,s={list:[]};e.each(i.list,function(e,t){var a=_.find(o,function(e){return e.isSale&&e[i.key]==t.value});a&&(r=!0,s.list.push({label:t.label,value:t.value,stock:a.stock,price:a.price}))});var c={};c[i.key]=t[i.key],o=_.where(o,c),r&&(n[i.key]=s.list)}),n},a.prototype.findSkuByStock=function(t,a,o){var i=this;return i.MobileGoodsService.getAllMobilesStock().then(function(n){if(!n[t]||!n[t].stock){var r=i.mobileQueue(),s=[];s=r[a]&&r[a][o?"normal":"defect"],!!s&&e.each(s,function(e,a){return n[a]&&(n[a].stock||n[a].usePresale)?(t=a,!1):void 0})}return t})},a.prototype.verifyMobileCdkey=function(e){return mainService.ajax({url:"Cdkey/Verify",data:e,error:function(e){return!1}})},a.prototype.verifyCdkeyDelay=function(e){return mainService.ajax({url:"RedeemCode/Exchange",data:e,error:function(e){return!1}})},a.prototype.createTempOrder=function(e){var a=this,o="o"+(new Date).getTime(),i=2;e.mobileData&&e.mobileData.usePresale&&(i=1);var n={id:o,mobile_id:e.mobileData.id,pay_type:i,discount_amount:e.discount_amount||0};return e.cdkey_code&&(n.cdkey_code=e.cdkey_code),a.removeCache(function(){a.StorageService.set(o,n)}),t.proxyDefer({id:o})},a.prototype.completeTempOrder=function(a){var o=this,i=e.extend({mobileGoods:[a.mobile_id]},a);return i.id=i.id||"o"+(new Date).getTime(),a.safety1&&i.mobileGoods.push(a.safety1),a.safety2&&i.mobileGoods.push(a.safety2),delete a.mobile_id,delete a.safety1,delete a.safety2,i.mobileGoods.push(1),i.mobileGoods=i.mobileGoods.join(":"),o.removeCache(function(){o.StorageService.set(i.id,i)}),t.proxyDefer(i)},a.prototype.createOrder=function(e){var t=this,a=e.id,o="Order/Create";return e.pre_order_id&&(o="Order/BuyInsuranceOnList"),e.singleService&&(o="Order/BuyInsuranceOnPhoneOffline"),delete e.id,e.source=11,mainService.ajax({url:o,data:e,success:function(e){return t.StorageService.remove(a),e}})},a.prototype.removeWarrantyCache=function(e,a){var o=this,i=o.StorageService.get(e)||{};return delete i[a],o.removeCache(function(){o.StorageService.set(e,i)}),t.proxyDefer(i)},a.prototype.removeCache=function(t){var a=this,o=a.StorageService.filter("^o");e.each(o,function(e,t){a.StorageService.remove(e)}),"function"==typeof t&&t()},new a}(jQuery,window.Store)),window.Store.addService("Nuts",function(e,t){function a(){var e=this;e.type={},e.UserService=null,e.MobileGoodsService=null,e.StorageService=null,e.CartService=null}var o=["100007303","100007304","100007305","100007306","100007307","100007308","100007309","100007310","100007311","100007312","100007313","100007314","100007317","100007318","100007319","100007320","100015803","100015804","100007315","100007316","100015801","100013101","100013102","100013103","100013104","100013105","100013106","100013107","100013108","100015901"];return a.prototype.init=function(){var e=this;e.UserService=t.getService("User"),e.MobileGoodsService=t.getService("MobileGoods"),e.StorageService=t.getService("LocalStorage"),e.CartService=t.getService("Cart"),e.mapStock={}},a.prototype.getMobilesStock=function(a){var i=this,n=a||[].concat(o).join(","),r=!0,s=n.split(",");return e.each(s,function(e,t){return void 0==i.mapStock[t]?(r=!1,!1):void 0}),r?t.proxyDefer(i.mapStock):mainService.ajax({url:"goods/GetMobileSimpleInfo",data:{goods_str:n},success:function(t){var a=[],o=i.MobileGoodsService.nuts(),n={};return e.each(t.list,function(e,t){n[t.sku]={stock:11==t.status?!0:t.store_status}}),e.each(o,function(t,o){a.push(e.extend({},o,n[o.sku]))}),i.MobileGoodsService.formatMobileData({nuts:a}),i.mapStock=e.extend(i.mapStock,n),i.mapStock}})},a.prototype.pageParams=function(t){var a={edition:[{value:"netcom",label:"全网通"},{value:"all",label:"公开版"}],version:[{value:"normal",label:"标准版"},{value:"young",label:"文艺青年版"},{value:"black",label:"黑色版"}],color:[{version:"normal",value:"red",label:"红色"},{version:"normal",value:"orange",label:"橙色"},{version:"normal",value:"yellow",label:"黄色"},{version:"normal",value:"green",label:"绿色"},{version:"normal",value:"light-blue",label:"青色"},{version:"normal",value:"blue",label:"蓝色"},{version:"normal",value:"purple",label:"紫色"},{version:"normal",value:"gray",label:"灰色"},{version:"young",value:"bone",label:"远州鼠"},{version:"black",value:"black",label:"黑色"}],capacity:[{value:"16GB",label:"16GB",price:"699"},{value:"32GB",label:"32GB",price:"799"}]},o=e.extend({},a);return"netcom"==t&&(o.color=[{version:"normal",value:"gray",label:"灰色"},{version:"young",value:"bone",label:"远州鼠"},{version:"black",value:"black",label:"黑色"}],o.capacity=[{value:"16GB",label:"16GB",price:"799"},{value:"32GB",label:"32GB",price:"899"}]),o},a.prototype.getSkuByCategory=function(t){var a=this,o=a.MobileGoodsService.mapPhones,i={defChoose:void 0},n={netcom:{normal:["100015803","100015804"],young:["100015901"],black:["100015801"]},all:{normal:["100007311","100007312","100007307","100007308","100007305","100007306","100007303","100007304","100007317","100007318","100007313","100007314","100007309","100007310","100007319","100007320"],young:["100013107"],black:["100007315","100007316"]}};return e.each(n,function(a,n){i[a]={},e.each(n,function(n,r){e.each(r,function(e,r){return!i[a][n]&&t[r]&&t[r].stock?(i[a][n]=o[r],i[a].hasStock=o[r],i.defChoose||(i.defChoose=o[r]),!1):void 0})})}),i},a.prototype.getPageParams=function(t,a){var o=this,i=o.MobileGoodsService.nuts(),n=(o.MobileGoodsService.mapPhones,{edition:[],version:[],color:[],allStock:!1,curMobile:void 0});return o.getMobilesStock().then(function(r){var s={},c={};n.defChooseMobileData=o.getSkuByCategory(r),e.each(i,function(e,t){r[t.sku]&&r[t.sku].stock&&(s[t.edition]=!0,c[t.version]=!0,n.allStock=!0)}),n.allStock&&(n.curMobile=t?n.defChooseMobileData.netcom[t]||n.defChooseMobileData.all[t]:n.defChooseMobileData.defChoose);var l=o.pageParams(a);e.each(l.edition,function(t,a){n.edition.push(e.extend({},a,{stock:s[a.value]}))}),e.each(l.version,function(t,a){n.version.push(e.extend({},a,{stock:c[a.value]}))}),n.allColor=[].concat(l.color);var u=o.getNutsParams(t);return n.color=u.color,n.capacity=u.capacity,n})},a.prototype.getNutsParams=function(t,a){var o=this,t=t||"normal",a=a||{},i=o.pageParams(a.edition),n=o.MobileGoodsService.nuts(),r=(o.MobileGoodsService.mapPhones,[]),s={},c=[],l=[];if(a.edition&&a.version){var u={edition:a.edition,version:a.version};r=_.where(n,u),e.each(r,function(e,t){o.mapStock[t.sku]&&o.mapStock[t.sku].stock&&(!s[t.color]&&(s[t.color]={}),s[t.color][t.capacity]=!0)})}return e.each(i.color,function(o,i){i.version==t&&c.push(e.extend(i,{stock:s[i.value],selected:s[i.value]&&i.value==a.color}))}),("young"==t||"netcom"==a.edition&&"black"==t)&&i.capacity.shift(),e.each(i.capacity,function(t,o){l.push(e.extend(o,{stock:s[a.color]&&s[a.color][o.value],selected:s[a.color]&&s[a.color][o.value]&&o.value==a.capacity}))}),i.color=c,i.capacity=l,i},a.prototype.basePageCoverParams=function(){var t={youth:[{value:"red",label:"红色"},{value:"orange",label:"橙色"},{value:"yellow",label:"黄色"},{value:"green",label:"绿色"},{value:"light-blue",label:"青色"},{value:"blue",label:"蓝色"},{value:"purple",label:"紫色"},{value:"white",label:"白色"}],art:[{value:"bone",label:"远州鼠"},{value:"coffee",label:"落栗"},{value:"rose",label:"苏芳"},{value:"pink",label:"石竹"},{value:"sand",label:"枯草"},{value:"olive",label:"柳煤竹茶"},{value:"grass",label:"锖青磁"},{value:"violet",label:"鸠羽紫"}]};return e.extend({},t)},a.prototype.basePageHeadsetParams=function(){var t={version:[{value:"bass",label:"低频增强版",lessLabel:"增强版"},{value:"three",label:"三段式均衡版",lessLabel:"均衡版"}],color:[{value:"black",label:"黑色"},{value:"red",label:"红色"}]};return e.extend({},t)},a.prototype.getFitting=function(a){var o=this,a=a||"black",i=o.basePageCoverParams(),n=o.basePageHeadsetParams(),r=o.MobileGoodsService.modelCover().nuts,s=o.MobileGoodsService.modelHeadset(),c=(o.MobileGoodsService.mapCovers,o.MobileGoodsService.mapHeadset),l={},u=[],d=[],p=[],m=[],g={},S=!1,v=!1,b=!1;return e.each(r,function(e,t){l[t.color]=t,t.category==a&&u.push(t.sku)}),e.each(s,function(e,t){d.push(t.sku)}),p=u.concat(d),i=i[a]||[],o.CartService.getProdInfo(p).then(function(o){switch(e.each(i,function(t,a){var i=o[l[a.value].sku],n=1==i.status&&!(i.store_nums<=0);m.push(e.extend({},l[a.value],i,{stock:n})),!!n&&(S=!0)}),e.each(n.version,function(a,i){e.each(n.color,function(a,n){var r=_.find(c,function(e){return e.version==i.value&&e.color==n.value&&"line"==e.ctrl});if(r){t.isArray(g[i.value])||(g[i.value]=[]);var s=o[r.sku],l=1==s.status&&!(s.store_nums<=0);g[i.value].push(e.extend({},r,{stock:l})),!!l&&(v=!0)}})}),a){case"youth":break;case"art":break;case"black":S=!1}return b=v||S,{coverData:m,headsetData:g,fittingStock:b,hasCoversStock:S,hasHeadsetStock:v}})},a.prototype.createTempOrder=function(e){var a=this,o="o"+(new Date).getTime(),i=2,n={id:o,mobile_id:e.mobileData.id,pay_type:i,isOpen:e.isOpen};return a.removeCache(function(){a.StorageService.set(o,n)}),t.proxyDefer({id:o})},a.prototype.completeTempOrder=function(a){var o=this,i=e.extend({},a);return i.id=i.id||"o"+(new Date).getTime(),o.removeCache(function(){o.StorageService.set(i.id,i)}),t.proxyDefer(i)},a.prototype.removeWarrantyCache=function(e,a){var o=this,i=o.StorageService.get(e)||{};return delete i[a],o.removeCache(function(){o.StorageService.set(e,i)}),t.proxyDefer(i)},a.prototype.createOrder=function(e){var a=this,o=e.id,i="Order/Create";return delete e.id,e.source=t.config.isWeixin?23:11,mainService.ajax({url:i,data:e,success:function(e){return a.StorageService.remove(o),e},error:function(e,t,a){return 11004==e?!1:void 0}})},a.prototype.removeCache=function(t){var a=this,o=a.StorageService.filter("^o");e.each(o,function(e,t){a.StorageService.remove(e)}),"function"==typeof t&&t()},a.prototype.specMap=function(){var t={storage:{title:"容量和内存",youth:"16 / 32 GB 高速闪存",art:"32 GB 高速闪存",black:"16 / 32 GB 高速闪存",memory:"2 GB 内存"},color:{title:"颜色",youth:"红、橙、黄、绿、青、蓝、紫、灰",art:"遠州鼠",black:"黑色"},dimensions:{title:"机身尺寸和重量",num_height:"152.9 mm",num_width:"76.9 mm",num_thickness:"9.0 mm",text_height:"高度：152.9 mm",text_width:"宽度：76.9 mm",text_thickness:"厚度：9.0 mm",text_weight:"重量：约 155 g"},cpu:{title:"处理器",desc:"Qualcomm<sup>®</sup> 骁龙™ 615 ( MSM8939 ) 处理器",desc1:"ARM<sup>®</sup> cortex™ - A53 1.5 GHz x 4 +",desc2:"ARM<sup>®</sup> cortex™ - A53 1.0 GHz x 4"},gpu:{title:"图形处理器",desc:"Adreno™ 405 550MHz 图形处理器"},cellular:{title:"蜂窝网络",yidong_h3:"公开版",table:'<tr><th colspan="3" class="n0">网络制式</th><th>支持频段</th></tr><tr><td rowspan="2" class="eq-0">4G</td><td class="eq-1">联通</td><td class="eq-2">FDD-LTE</td><td>B1 / B3 / B7</td></tr><tr><td>移动</td><td>TDD-LTE</td><td>B38 / B39 / B40 / B41 <span>( 注：B41 仅支持中国频段 )</span></td></tr><tr><td rowspan="2">3G</td><td>联通</td><td>WCDMA</td><td>B1 / B2 / B5 / B8</td></tr><tr><td>移动</td><td>TD-SCDMA</td><td>B34 / B39</td></tr><tr><td class="n1">2G</td><td class="n2">移动/联通</td><td class="n3">GSM</td><td>B2 / B3 / B5 / B8</td></tr>',sim1:"SIM 1 卡槽：支持 移动/联通 2G/3G/4G",sim2:"SIM 2 卡槽：仅支持 移动/联通 2G",dianxin_h3:"电信版",dianxin_table:'<tr><th colspan="3" class="n0">网络制式</th><th>支持频段</th></tr><tr><td rowspan="3" class="eq-0">4G</td><td rowspan="2" class="eq-1">电信</td><td class="eq-2">TDD-LTE</td><td>B41</td></tr><tr><td>FDD-LTE</td><td>B1 / B3 / B7 <span>（注：FDD-LTE 制式仅支持电信要求频段）</span></td></tr><tr><td>移动</td><td>TDD-LTE</td><td>B38 / B39 / B40 / B41</td></tr><tr><td rowspan="2">3G</td><td>电信</td><td>EVDO</td><td>BC0</td></tr><tr><td>移动</td><td>TD-SCDMA</td><td>B34 / B39</td></tr><tr><td class="n21" rowspan="2">2G</td><td class="n22">电信</td><td class="n23">CDMA 1X</td><td class="n24">BC0</td></tr><tr><td>移动/联通</td><td>GSM</td><td>B2 / B3 / B5 / B8</td></tr>',dianxin_sim1:"SIM 1 卡槽：支持 电信/移动 2G/3G/4G 联通 2G",dianxin_sim2:"SIM 2 卡槽：仅支持 移动/联通 2G",quanwangtong_h3:"全网通版",quanwangtong_table:'<tr><th colspan="3" class="n0">网络制式</th><th>支持频段</th></tr><tr><td rowspan="4" class="eq-0">4G</td><td>移动</td><td>TDD-LTE</td><td>B38 / B39 / B40 / B41</td></tr><tr><td>联通</td><td>FDD-LTE</td><td>B1 / B3 / B7</td></tr><tr><td rowspan="2" class="eq-1">电信</td><td class="eq-2">TDD-LTE</td><td>B41</td></tr><tr><td>FDD-LTE</td><td>B1 / B3 / B7</td></tr><tr><td rowspan="3">3G</td><td>移动</td><td>TD-SCDMA</td><td>B34 / B39</td></tr><tr><td>联通</td><td>WCDMA</td><td>B1 / B2 / B5 / B8</td></tr><tr><td>电信</td><td>EVDO</td><td>BC0</td></tr><tr><td class="n21" rowspan="2">2G</td><td>移动/联通</td><td>GSM</td><td>B2 / B3 / B5 / B8</td></tr><tr><td class="n22">电信</td><td class="n23">CDMA 1X</td><td class="n24">BC0</td></tr>',quanwangtong_sim1:"SIM 1 卡槽：支持 移动/联通/电信 2G/3G/4G",quanwangtong_sim2:"SIM 2 卡槽：仅支持 移动/联通 2G"},wireless:{title:"无线网络",wireless:"802.11 b/g/n 无线网络，支持 2.4 GHz 频段",bluetooth:"蓝牙 4.0",nfc:"NFC"},display:{title:"屏幕",display:"5.5 英寸 TFT 显示屏",resolution:"1920 x 1080 像素分辨率，403 PPI",contrast:"1000:1 对比度（标准）",brightness:"400 cd/m<sup>2</sup> 最大亮度（标准）",kang:"康宁<sup>®</sup>第三代大猩猩<sup>®</sup>玻璃"},frontCamera:{title:"前置摄像头",desc1:"500 万像素",desc2:"ƒ/2.2 光圈，等效焦距约 25mm 镜头"},rearCamera:{title:"主摄像头",desc1:"1300 万像素",desc2:"ƒ/2.2 光圈，等效焦距约 28mm 镜头",desc3:"LED 闪光灯"},audioPlayback:{title:"音频播放",desc1:"支持声音文件格式：MP3，M4A，AAC，AMR",desc2:"支持无损格式：ALAC ( Apple Lossless )，FLAC，APE，WAV ( 最高支持 192-KHz/24-bits ) ，AIFF",desc3:"支持声音解码格式：AAC/AAC+/eAAC+，MP3"},videoPlayback:{title:"视频播放",desc1:"支持的视频格式：",desc2:"H.264 视频，支持 1080p，60 fps，High Profile Level 4.2 和 AAC-LC/MP3 音频，文件格式为 .mp4，.avi，.mkv，.webm，.3gp",desc3:"MPEG4-ASP 视频，最高可达 1080p，60 fps，Level 5，Simple Profile，最高可达 1080p，60 fps，Level 8，AAC-LC 音频，文件格式为 .mp4",desc4:"H.263 视频，最高可达 864 x 480，Level 70，30 fps，AAC-LC 音频，文件格式为 .mp4"},keysPorts:{title:"按钮和接口",mode1:"开机设置为左手模式时",mode2:"开机设置为右手模式时",onOff:'长按 <span class="emphasis">开机 / 关机</span>',lock:'短按 <span class="emphasis">唤醒 / 锁屏</span>',volume:"音量调节",brightness:"可自定义键",back:"返回<br /><i>BACK</i>",home:"桌面<br /><i>HOME</i>",menu:"菜单<br /><i>MENU</i>",jack:"3.5mm 耳机接口",topSide:"顶部",usb:"Micro-USB 接口",bottomSide:"底部"},battery:{title:"电池",desc:"内置 2900 mAh 锂聚合物充电电池"},sensors:{title:"传感器",desc1:"陀螺仪",desc2:"重力传感器",desc3:"地磁传感器",desc4:"环境光传感器",desc5:"距离传感器"},os:{title:"操作系统",desc1:"基于 Android™ 深度定制的 Smartisan OS",desc2:"支持语言：中文简体、中文繁体（台湾）、英语、日语、韩语",desc3:"注：部分系统功能需要 Smartisan ID 与互联网连接"},builtIn:{title:"内置应用",icons:{phone:"电话",music:"音乐",messages:"短信",calendar:"日历",clock:"时钟",notes:"便签",recorder:"录音机",mail:"邮件",market:"应用商店","game-center":"游戏中心",browser:"浏览器",gallery:"相册",settings:"设置",calculator:"计算器",camera:"相机",weather:"天气",search:"搜索","voice-assistant":"语音搜索",downloads:"下载","security-center":"安全中心",cloud:"欢喜云服务",bbs:"锤子科技论坛"},remark:"“内置应用”是系统内建的为用户提供智能手机基本功能的应用程序，包括但不限于以上列举的锤子科技自主开发及与软件提供商共同研发的内建程序（如触宝输入法定制版、讯飞语音＋等）。为确保手机的正常使用，除锤子科技论坛外的所有内置应用均无法卸载。"},preloaded:{title:"预装第三方应用",remark:"你在首次使用坚果手机（ OS v2.0.4 ）时，如果发现手机中的应用与以上列表中的内置应用和预置第三方应用的数量、名称或图标有任何不同，则说明该手机的软件系统被除锤子科技（包括其关联公司）之外的其他方改动过。此种改动可能给你的手机带来病毒、系统不稳定、被植入广告或被偷偷盗取费用等不良影响。你可以联系你购买手机的经销商解决此类问题，也欢迎给 report@smartisan.com 发邮件向我们检举经销商，如果是我们的正式授权经销商，我们会严肃处理。但手机可能会由于不可控的因素落入非正规销售商甚至是职业黄牛手中，对于这种情况，我们无法控制，所以锤子科技对于非官方或非授权经销商售出手机的软件系统的人为改动，将不承担赔偿损失、免费维修等任何形式的责任。",icons:{weibo:"微博",wechat:"微信",zhifubao:"支付宝",momo:"陌陌",airdroid:"AirDroid",wpsOffice:"WPS Office",youku:"优酷视频",amap:"高德地图",youdao:"网易有道词典",dingxiang:"丁香医生",tencenVideo:"腾讯视频",mafengwo:"蚂蜂窝自由行",douban:"豆瓣",ireader:"掌阅iReader",qunar:"去哪儿旅行",neteaseNewsreader:"网易新闻",meituan:"美团",dianping:"大众点评",didi:"滴滴打车",daxiang:"大象公会"}},sim:{title:"SIM 卡",desc:"Micro-SIM 卡"},packagingContents:{title:"包装内容",desc1:"坚果手机",desc2:"USB 线缆及集线器",desc3:"充电器",desc4:"坚果手机产品使用说明书",desc5:"坚果手机三包凭证",desc6:"电子信息产品有害物质说明"},remarks:{desc1:'注：<br class="mobile">1. 本页面所列配置及参数均以实际上市产品为准，如有变更，恕不另行通知；',desc2:"2. Android™ is a trademark of Google Inc."}};return e.extend({},t)},new a}(jQuery,window.Store)),window.Store.addService("MobileGoods",function(e,t){function a(){var e=this;e.mapWarrantys={},e.mapMobileGifts={},e.mapPhones={},e.mapCovers={},e.mapHeadset={},e.mapNormalT1={},e.mapDefectT1={},e.mapNormalT2={},e.mapNormalNuts={},e.mapYoungNuts={},e.mapBlackNuts={},e.mapDefectNuts={},e.mapStock={},e.listNormalT1=[],e.listDefectT1=[],e.listNormalT2=[],e.listNormalNuts=[],e.listYoungNuts=[],e.listBlackNuts=[],e.listDefectNuts=[],e.listWarrantysT1=[],e.listWarrantysT2=[],e.listWarrantysNuts=[],e.listCoversNuts=[],e.listCoversT2=[],e.listHeadset=[]}var o=["100000001","100000002","100000201","100000202","100007201","100007001","100007002","100007003","100007004","100007005","100007006"];return a.prototype.init=function(){var e=this;e.formatMobileData(),e.formatWarrantyData(),e.formatCoverData(),e.formatHeadsetData(),e.mapMobileGifts=e.modelMobileGift(),e.mapColor=e.modelColor(),e.mapColorT1=e.mapColor.t1,e.mapColorNuts=e.mapColor.nuts,e.mapPageImagesT1=e.pageImagesT1()},a.prototype.formatMobileData=function(e){var t=this,e=e||{},a=e.t1||t.t1(),o=e.t2||t.t2(),i=e.nuts||t.nuts(),n=t.modelColor(),r={},s={},c={};r=t.parsePhones(a,n.t1),s=t.parsePhones(o,n.t2),c=t.parsePhones(i,n.nuts),t.mapNormalT1=r.mapNormal,t.mapDefectT1=r.mapDefect,t.listNormalT1=r.listNormal,t.listDefectT1=r.listDefect,t.mapNormalT2=s.mapNormal,t.listNormalT2=s.listNormal,t.mapNormalNuts=c.mapNormal,t.mapYoungNuts=c.mapYoung,t.mapBlackNuts=c.mapBlack,t.mapDefectNuts=c.mapDefect,t.listNormalNuts=c.listNormal,t.listYoungNuts=c.listYoung,t.listBlackNuts=c.listBlack,t.listDefectNuts=c.listDefect},a.prototype.updateNutsStock=function(){var t=[],a=self.nuts();e.each(result.list,function(e,t){mapStock[t.sku]={stock:11==t.status?!0:t.store_status,usePresale:11==t.status}}),e.each(a,function(a,o){t.push(e.extend({},o,{stock:!0,usePresale:!0}))}),self.formatMobileData({nuts:t})},a.prototype.getAllMobilesStock=function(a){var i=this,n=a||[].concat(o).join(","),r=!0,s=n.split(",");return e.each(s,function(e,t){return void 0==i.mapStock[t]?(r=!1,!1):void 0}),r?t.proxyDefer(i.mapStock):mainService.ajax({url:"goods/GetMobileSimpleInfo",data:{goods_str:n},success:function(t){var a=[],o=i.t1(),n={};return e.each(t.list,function(e,t){n[t.sku]={stock:11==t.status?!0:t.store_status,usePresale:11==t.status}}),e.each(o,function(t,o){a.push(e.extend({},o,n[o.sku]))}),i.formatMobileData({t1:a}),i.mapStock=e.extend(i.mapStock,n),n}})},a.prototype.t1=function(){return[{category:"t1",version:"normal",isSale:!1,sku:"100000001",presaleAmount:300,name:"Smartisan T1 3G版 黑色 16GB",color:"black",standard:"3G",capacity:"16GB",price:1980,countdown:86400},{category:"t1",version:"normal",isSale:!1,sku:"100000002",presaleAmount:300,name:"Smartisan T1 3G版 黑色 32GB",color:"black",standard:"3G",capacity:"32GB",price:2080,countdown:86400},{category:"t1",version:"normal",isSale:!0,sku:"100000201",presaleAmount:300,name:"Smartisan T1 4G版 黑色 32GB",color:"black",standard:"4G",capacity:"32GB",price:2480,countdown:86400},{category:"t1",version:"normal",isSale:!0,sku:"100000202",presaleAmount:300,name:"Smartisan T1 4G版 白色 32GB",color:"white",standard:"4G",capacity:"32GB",price:2480,countdown:86400},{category:"t1",version:"normal",isSale:!0,sku:"100007201",presaleAmount:300,name:"Smartisan T1 一周年纪念版 黑色 32GB",color:"anniversary",standard:"4G",capacity:"32GB",price:2480,countdown:86400},{category:"t1",version:"normal",isSale:!1,sku:"100010501",presaleAmount:300,name:"Smartisan T1 4G 移动套餐版 黑色 32GB",color:"black",standard:"4G",capacity:"32GB",price:2480,countdown:86400},{category:"t1",version:"normal",isSale:!1,sku:"100010502",presaleAmount:300,name:"Smartisan T1 4G 移动套餐版 白色 32GB",color:"white",standard:"4G",capacity:"32GB",price:2480,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007001",presaleAmount:300,defect:!0,defectDiscount:300,name:"Smartisan T1 官方翻新机 B级 3G版 黑色 32GB",color:"black",standard:"3G",capacity:"32GB",price:1780,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007002",presaleAmount:300,defect:!1,defectDiscount:100,name:"Smartisan T1 官方翻新机 A级 3G版 黑色 32GB",color:"black",standard:"3G",capacity:"32GB",price:1980,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007003",presaleAmount:300,defect:!0,defectDiscount:300,name:"Smartisan T1 官方翻新机 B级 4G版 黑色 32GB",color:"black",standard:"4G",capacity:"32GB",price:2180,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007004",presaleAmount:300,defect:!1,defectDiscount:100,name:"Smartisan T1 官方翻新机 A级 4G版 黑色 32GB",color:"black",standard:"4G",capacity:"32GB",price:2380,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007005",presaleAmount:300,defect:!0,defectDiscount:300,name:"Smartisan T1 官方翻新机 B级 3G版 黑色 16GB",color:"black",standard:"3G",capacity:"16GB",price:1680,countdown:86400},{category:"t1",version:"defect",isSale:!0,sku:"100007006",presaleAmount:300,defect:!1,defectDiscount:100,name:"Smartisan T1 官方翻新机 A级 3G版 黑色 16GB",color:"black",standard:"3G",capacity:"16GB",price:1880,countdown:86400}]},a.prototype.t2=function(){return[{category:"t2",version:"normal",isSale:!0,sku:"100014501",name:"Smartisan T2（黑色，32GB）",color:"black",standard:"4G",capacity:"32GB",price:2599,countdown:86400},{category:"t2",version:"normal",isSale:!0,sku:"100014502",name:"Smartisan T2（黑色，16GB）",color:"black",standard:"4G",capacity:"16GB",price:2499,countdown:86400}]},a.prototype.nuts=function(){return[{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100015803",presaleAmount:300,name:"坚果手机（灰色，32GB，全网通）",color:"gray",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100015804",presaleAmount:300,name:"坚果手机（灰色，16GB，全网通）",color:"gray",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100020505",presaleAmount:300,name:"坚果手机（灰色，32GB，全网通，A级）",color:"gray",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100020506",presaleAmount:300,name:"坚果手机（灰色，16GB，全网通，A级）",color:"gray",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100020605",presaleAmount:300,name:"坚果手机（灰色，32GB，全网通，B级）",color:"gray",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"normal",edition:"netcom",isSale:!0,sku:"100020606",presaleAmount:300,name:"坚果手机（灰色，16GB，全网通，B级）",color:"gray",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007303",presaleAmount:300,name:"坚果手机（绿色，32GB）",color:"green",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007304",presaleAmount:300,name:"坚果手机（绿色，16GB）",color:"green",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007305",presaleAmount:300,name:"坚果手机（黄色，32GB）",color:"yellow",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007306",presaleAmount:300,name:"坚果手机（黄色，16GB）",color:"yellow",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007307",presaleAmount:300,name:"坚果手机（橙色，32GB）",color:"orange",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007308",presaleAmount:300,name:"坚果手机（橙色，16GB）",color:"orange",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007309",presaleAmount:300,name:"坚果手机（紫色，32GB）",color:"purple",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007310",presaleAmount:300,name:"坚果手机（紫色，16GB）",color:"purple",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007311",presaleAmount:300,name:"坚果手机（红色，32GB）",color:"red",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007312",presaleAmount:300,name:"坚果手机（红色，16GB）",color:"red",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007313",presaleAmount:300,name:"坚果手机（蓝色，32GB）",color:"blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007314",presaleAmount:300,name:"坚果手机（蓝色，16GB）",color:"blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007317",presaleAmount:300,name:"坚果手机（青色，32GB）",color:"light-blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007318",presaleAmount:300,name:"坚果手机（青色，16GB）",color:"light-blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007319",presaleAmount:300,name:"坚果手机（灰色，32GB）",color:"gray",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100007320",presaleAmount:300,name:"坚果手机（灰色，16GB）",color:"gray",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020317",presaleAmount:300,name:"坚果手机（绿色，32GB，A级）",color:"green",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020318",presaleAmount:300,name:"坚果手机（绿色，16GB，A级）",color:"green",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020417",presaleAmount:300,name:"坚果手机（绿色，32GB，B级）",color:"green",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020418",presaleAmount:300,name:"坚果手机（绿色，16GB，B级）",color:"green",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020319",presaleAmount:300,name:"坚果手机（黄色，32GB，A级）",color:"yellow",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020320",presaleAmount:300,name:"坚果手机（黄色，16GB，A级）",color:"yellow",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020419",presaleAmount:300,name:"坚果手机（黄色，32GB，B级）",color:"yellow",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020420",presaleAmount:300,name:"坚果手机（黄色，16GB，B级）",color:"yellow",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020303",presaleAmount:300,name:"坚果手机（橙色，32GB，A级）",color:"orange",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020304",presaleAmount:300,name:"坚果手机（橙色，16GB，A级）",color:"orange",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020403",presaleAmount:300,name:"坚果手机（橙色，32GB，B级）",color:"orange",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020404",presaleAmount:300,name:"坚果手机（橙色，16GB，B级）",color:"orange",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020301",presaleAmount:300,name:"坚果手机（紫色，32GB，A级）",color:"purple",
standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020302",presaleAmount:300,name:"坚果手机（紫色，16GB，A级）",color:"purple",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020401",presaleAmount:300,name:"坚果手机（紫色，32GB，B级）",color:"purple",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020402",presaleAmount:300,name:"坚果手机（紫色，16GB，B级）",color:"purple",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020307",presaleAmount:300,name:"坚果手机（红色，32GB，A级）",color:"red",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020308",presaleAmount:300,name:"坚果手机（红色，16GB，A级）",color:"red",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020407",presaleAmount:300,name:"坚果手机（红色，32GB，B级）",color:"red",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020408",presaleAmount:300,name:"坚果手机（红色，16GB，B级）",color:"red",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020305",presaleAmount:300,name:"坚果手机（蓝色，32GB，A级）",color:"blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020306",presaleAmount:300,name:"坚果手机（蓝色，16GB，A级）",color:"blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020405",presaleAmount:300,name:"坚果手机（蓝色，32GB，B级）",color:"blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020406",presaleAmount:300,name:"坚果手机（蓝色，16GB，B级）",color:"blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020313",presaleAmount:300,name:"坚果手机（青色，32GB，A级）",color:"light-blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020314",presaleAmount:300,name:"坚果手机（青色，16GB，A级）",color:"light-blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020413",presaleAmount:300,name:"坚果手机（青色，32GB，B级）",color:"light-blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020414",presaleAmount:300,name:"坚果手机（青色，16GB，B级）",color:"light-blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020315",presaleAmount:300,name:"坚果手机（灰色，32GB，A级）",color:"gray",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020316",presaleAmount:300,name:"坚果手机（灰色，16GB，A级）",color:"gray",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020415",presaleAmount:300,name:"坚果手机（灰色，32GB，B级）",color:"gray",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"all",isSale:!0,sku:"100020416",presaleAmount:300,name:"坚果手机（灰色，16GB，B级）",color:"gray",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012905",presaleAmount:300,name:"坚果手机（绿色，32GB，移动定制）",color:"green",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012906",presaleAmount:300,name:"坚果手机（绿色，16GB，移动定制）",color:"green",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012907",presaleAmount:300,name:"坚果手机（黄色，32GB，移动定制）",color:"yellow",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012908",presaleAmount:300,name:"坚果手机（黄色，16GB，移动定制）",color:"yellow",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012909",presaleAmount:300,name:"坚果手机（橙色，32GB，移动定制）",color:"orange",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012910",presaleAmount:300,name:"坚果手机（橙色，16GB，移动定制）",color:"orange",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012911",presaleAmount:300,name:"坚果手机（紫色，32GB，移动定制）",color:"purple",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012912",presaleAmount:300,name:"坚果手机（紫色，16GB，移动定制）",color:"purple",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012913",presaleAmount:300,name:"坚果手机（红色，32GB，移动定制）",color:"red",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012914",presaleAmount:300,name:"坚果手机（红色，16GB，移动定制）",color:"red",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012915",presaleAmount:300,name:"坚果手机（蓝色，32GB，移动定制）",color:"blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012916",presaleAmount:300,name:"坚果手机（蓝色，16GB，移动定制）",color:"blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012903",presaleAmount:300,name:"坚果手机（青色，32GB，移动定制）",color:"light-blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012904",presaleAmount:300,name:"坚果手机（青色，16GB，移动定制）",color:"light-blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012901",presaleAmount:300,name:"坚果手机（灰色，32GB，移动定制）",color:"gray",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"cmcc",isSale:!0,sku:"100012902",presaleAmount:300,name:"坚果手机（灰色，16GB，移动定制）",color:"gray",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013005",presaleAmount:300,name:"坚果手机（绿色，32GB，电信定制）",color:"green",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013006",presaleAmount:300,name:"坚果手机（绿色，16GB，电信定制）",color:"green",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013007",presaleAmount:300,name:"坚果手机（黄色，32GB，电信定制）",color:"yellow",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013008",presaleAmount:300,name:"坚果手机（黄色，16GB，电信定制）",color:"yellow",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013009",presaleAmount:300,name:"坚果手机（橙色，32GB，电信定制）",color:"orange",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013010",presaleAmount:300,name:"坚果手机（橙色，16GB，电信定制）",color:"orange",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013011",presaleAmount:300,name:"坚果手机（紫色，32GB，电信定制）",color:"purple",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013012",presaleAmount:300,name:"坚果手机（紫色，16GB，电信定制）",color:"purple",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013013",presaleAmount:300,name:"坚果手机（红色，32GB，电信定制）",color:"red",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013014",presaleAmount:300,name:"坚果手机（红色，16GB，电信定制）",color:"red",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013015",presaleAmount:300,name:"坚果手机（蓝色，32GB，电信定制）",color:"blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013016",presaleAmount:300,name:"坚果手机（蓝色，16GB，电信定制）",color:"blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013003",presaleAmount:300,name:"坚果手机（青色，32GB，电信定制）",color:"light-blue",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013004",presaleAmount:300,name:"坚果手机（青色，16GB，电信定制）",color:"light-blue",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013001",presaleAmount:300,name:"坚果手机（灰色，32GB，电信定制）",color:"gray",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"normal",edition:"telecom",isSale:!0,sku:"100013002",presaleAmount:300,name:"坚果手机（灰色，16GB，电信定制）",color:"gray",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"black",edition:"netcom",isSale:!0,sku:"100015801",presaleAmount:300,name:"坚果手机（黑色，32GB，全网通）",color:"black",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"black",edition:"netcom",isSale:!0,sku:"100020501",presaleAmount:300,name:"坚果手机（黑色，32GB，全网通，A级）",color:"black",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"black",edition:"netcom",isSale:!0,sku:"100020502",presaleAmount:300,name:"坚果手机（黑色，16GB，全网通，A级）",color:"black",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"netcom",isSale:!0,sku:"100020601",presaleAmount:300,name:"坚果手机（黑色，32GB，全网通，B级）",color:"black",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"black",edition:"netcom",isSale:!0,sku:"100020602",presaleAmount:300,name:"坚果手机（黑色，16GB，全网通，B级）",color:"black",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100007315",presaleAmount:300,name:"坚果手机（黑色，32GB）",color:"black",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100007316",presaleAmount:300,name:"坚果手机（黑色，16GB）",color:"black",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100020309",presaleAmount:300,name:"坚果手机（黑色，32GB，A级）",color:"black",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100020310",presaleAmount:300,name:"坚果手机（黑色，16GB，A级）",color:"black",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100020409",presaleAmount:300,name:"坚果手机（黑色，32GB，B级）",color:"black",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"all",isSale:!0,sku:"100020410",presaleAmount:300,name:"坚果手机（黑色，16GB，B级）",color:"black",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"black",edition:"cmcc",isSale:!0,sku:"100012917",presaleAmount:300,name:"坚果手机（黑色，32GB，移动定制）",color:"black",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"cmcc",isSale:!0,sku:"100012918",presaleAmount:300,name:"坚果手机（黑色，16GB，移动定制）",color:"black",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"black",edition:"telecom",isSale:!0,sku:"100013017",presaleAmount:300,name:"坚果手机（黑色，32GB，电信定制）",color:"black",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"black",edition:"telecom",isSale:!0,sku:"100013018",presaleAmount:300,name:"坚果手机（黑色，16GB，电信定制）",color:"black",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"young",edition:"netcom",isSale:!0,sku:"100015901",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，全网通）",color:"bone",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"young",edition:"netcom",isSale:!0,sku:"100020503",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，全网通，A级）",color:"bone",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"young",edition:"netcom",isSale:!0,sku:"100020504",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，16GB，全网通，A级）",color:"bone",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"netcom",isSale:!0,sku:"100020603",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，全网通，B级）",color:"bone",standard:"4G",capacity:"32GB",price:899,countdown:3600},{category:"nuts",version:"young",edition:"netcom",isSale:!0,sku:"100020604",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，16GB，全网通，B级）",color:"bone",standard:"4G",capacity:"16GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013101",presaleAmount:300,name:"坚果手机文艺青年版（鸠羽紫，32GB）",color:"violet",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013102",presaleAmount:300,name:"坚果手机文艺青年版（苏芳，32GB）",color:"rose",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013103",presaleAmount:300,name:"坚果手机文艺青年版（落栗，32GB）",color:"coffee",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013104",presaleAmount:300,name:"坚果手机文艺青年版（柳煤竹茶，32GB）",color:"olive",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013105",presaleAmount:300,name:"坚果手机文艺青年版（枯草，32GB）",color:"sand",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013106",presaleAmount:300,name:"坚果手机文艺青年版（石竹，32GB）",color:"pink",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013107",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB）",color:"bone",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100020311",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，A级）",color:"bone",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100020312",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，16GB，A级）",color:"bone",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100020411",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，B级）",color:"bone",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100020412",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，16GB，B级）",color:"bone",standard:"4G",capacity:"16GB",price:699,countdown:3600},{category:"nuts",version:"young",edition:"all",isSale:!0,sku:"100013108",presaleAmount:300,name:"坚果手机文艺青年版（锖青磁，32GB）",color:"grass",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013201",presaleAmount:300,name:"坚果手机文艺青年版（鸠羽紫，32GB，移动定制）",color:"violet",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013202",presaleAmount:300,name:"坚果手机文艺青年版（苏芳，32GB，移动定制）",color:"rose",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013203",presaleAmount:300,name:"坚果手机文艺青年版（落栗，32GB，移动定制）",color:"coffee",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013204",presaleAmount:300,name:"坚果手机文艺青年版（柳煤竹茶，32GB，移动定制）",color:"olive",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013205",presaleAmount:300,name:"坚果手机文艺青年版（枯草，32GB，移动定制）",color:"sand",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013206",presaleAmount:300,name:"坚果手机文艺青年版（石竹，32GB，移动定制）",color:"pink",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013207",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，移动定制）",color:"bone",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"cmcc",isSale:!0,sku:"100013208",presaleAmount:300,name:"坚果手机文艺青年版（锖青磁，32GB，移动定制）",color:"grass",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013301",presaleAmount:300,name:"坚果手机文艺青年版（鸠羽紫，32GB，电信定制）",color:"violet",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013302",presaleAmount:300,name:"坚果手机文艺青年版（苏芳，32GB，电信定制）",color:"rose",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013303",presaleAmount:300,name:"坚果手机文艺青年版（落栗，32GB，电信定制）",color:"coffee",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013304",presaleAmount:300,name:"坚果手机文艺青年版（柳煤竹茶，32GB，电信定制）",color:"olive",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013305",presaleAmount:300,name:"坚果手机文艺青年版（枯草，32GB，电信定制）",color:"sand",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013306",presaleAmount:300,name:"坚果手机文艺青年版（石竹，32GB，电信定制）",color:"pink",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013307",presaleAmount:300,name:"坚果手机文艺青年版（远州鼠，32GB，电信定制）",color:"bone",standard:"4G",capacity:"32GB",price:799,countdown:3600},{category:"nuts",version:"young",edition:"telecom",isSale:!0,sku:"100013308",presaleAmount:300,name:"坚果手机文艺青年版（锖青磁，32GB，电信定制）",color:"grass",standard:"4G",capacity:"32GB",price:799,countdown:3600}]},a.prototype.modelColor=function(){return{t1:{black:{colorLabel:"黑色",thumb:CDN_HOST+"img/mobile/s03.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/01_80.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/01_80.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/pm-slide-product-image-black.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/black-product.png?"+TIMESTAMP},white:{colorLabel:"白色",thumb:CDN_HOST+"img/mobile/s03_white.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/01_80_white.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/01_80_white.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/pm-slide-product-image-white.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/white-product.png?"+TIMESTAMP},anniversary:{colorLabel:"一周年纪念版",thumb:CDN_HOST+"img/mobile/s03.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/01_80.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/01_80.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/pm-slide-product-image-black.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/black-product.png?"+TIMESTAMP}},t2:{black:{colorLabel:"黑色",img:CDN_HOST+"img/t2/t2-black-80.png?"+TIMESTAMP,image:CDN_HOST+"img/t2/t2-black-80.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/t2/t2-cdkey-black.png?"+TIMESTAMP}},nuts:{green:{colorLabel:"绿色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-green.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_green.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_green.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-green.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-green.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-green.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-green.png?"+TIMESTAMP},yellow:{colorLabel:"黄色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-yellow.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_yellow.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_yellow.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-yellow.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-yellow.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-yellow.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-yellow.png?"+TIMESTAMP},orange:{colorLabel:"橙色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-orange.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_orange.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_orange.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-orange.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-orange.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-orange.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-orange.png?"+TIMESTAMP},purple:{colorLabel:"紫色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-purple.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_purple.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_purple.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-purple.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-purple.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-purple.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-purple.png?"+TIMESTAMP},red:{colorLabel:"红色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-red.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_red.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_red.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-red.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-red.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-red.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-red.png?"+TIMESTAMP},blue:{colorLabel:"蓝色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-blue.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_blue.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_blue.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-blue.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-blue.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-blue.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-blue.png?"+TIMESTAMP},"light-blue":{colorLabel:"青色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-light-blue.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_light_blue.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_light_blue.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-light-blue.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-light-blue.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-light-blue.png?"+TIMESTAMP},gray:{colorLabel:"灰色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-gray.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_gray.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_gray.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-gray.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-gray.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-gray.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-gray.png?"+TIMESTAMP},black:{colorLabel:"黑色",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-black.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_black.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_black.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-black.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-black.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-black.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-black.png?"+TIMESTAMP},violet:{colorLabel:"鸠羽紫",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-violet.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_violet.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_violet.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-violet.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-violet.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-violet.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-violet.png?"+TIMESTAMP},sand:{colorLabel:"枯草",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-sand.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_sand.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_sand.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-sand.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-sand.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-sand.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-sand.png?"+TIMESTAMP},olive:{colorLabel:"柳煤竹茶",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-olive.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_olive.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_olive.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-olive.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-olive.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-olive.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-olive.png?"+TIMESTAMP},coffee:{colorLabel:"落栗",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-coffee.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_coffee.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_coffee.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-coffee.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-coffee.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-coffee.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-coffee.png?"+TIMESTAMP},grass:{colorLabel:"锖青磁",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-grass.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_grass.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_grass.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-grass.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-grass.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-grass.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-grass.png?"+TIMESTAMP},pink:{colorLabel:"石竹",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-pink.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_pink.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_pink.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-pink.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-pink.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-pink.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-pink.png?"+TIMESTAMP},rose:{colorLabel:"苏芳",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-rose.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_rose.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_rose.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-rose.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-rose.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-rose.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-rose.png?"+TIMESTAMP},bone:{colorLabel:"远州鼠",thumb:CDN_HOST+"img/mobile/jianguo-fixbar-bone.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/jianguo_80_bone.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/jianguo_80_bone.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-bone.png?"+TIMESTAMP,resultImage:CDN_HOST+"img/mobile/result-page-bone.png?"+TIMESTAMP,cartImage:CDN_HOST+"img/mobile/jianguo-cart-slide-image-bone.png?"+TIMESTAMP,codeImage:CDN_HOST+"img/mobile/jianguo-cdkey-bone.png?"+TIMESTAMP}}}},a.prototype.modelWarranty=function(){return{t1:[{sku:100000101,aliases:"accident",postName:"safety1",name:"意外保修服务",category:" Smartisan T1 ",price:200,pageCss:"warranty-accident",img:CDN_HOST+"img/mobile/04.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-accident.png?"+TIMESTAMP,warning:"您选购的保修服务不支持单独退款，仅可以随手机订单一同退款。",specialTitle:"“免费一次主机更换 ? ” “免费两次维修 ? ”",introduction:["在您购买意外保修服务后的一年内，由于意外损坏造成手机硬件故障，将可以获得最多两次维修服务，或 1 次主机更换服务。（本服务优先采取维修服务，若锤子数码售后服务中心确认无法修复，则进行主机更换。）","您可选择在购机时购买，或收货次日起 3 日内购买本服务。",'服务细则参见<a href="http://www.smartisan.com/support/#/repair" target="_blank">《锤子数码手机意外损坏保修服务条款》</a>。']},{sku:100000102,aliases:"delay",postName:"safety2",name:"延长保修服务",category:" Smartisan T1 ",price:200,pageCss:"warranty-delay",img:CDN_HOST+"img/mobile/05.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus-1.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-delay.jpg?"+TIMESTAMP,warning:"您选购的保修服务支持单独退款，也可以随手机订单一同退款。",introduction:["如您购买本服务，在手机正常“三包” 1 年保修期结束后，将额外多获得 1 年保修服务。","延长保修服务期为 1 年，自手机正常“三包” 1 年服务期的截止日之次日零时开始，至第二年对应日之 24 时结束。",'服务细则参见<a href="http://www.smartisan.com/support/#/insurance" target="_blank">《锤子数码手机延长保修服务条款》</a>。']}],t2:[{sku:100014402,aliases:"t2Accident",postName:"safety1",name:"意外保修服务",category:" Smartisan T2 ",price:200,pageCss:"warranty-accident",img:CDN_HOST+"img/mobile/04.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-accident.png?"+TIMESTAMP,warning:"您选购的保修服务不支持单独退款，仅可以随手机订单一同退款。",specialTitle:"“免费一次主机更换 ? ” “免费两次维修 ? ”",introduction:["在您购买意外保修服务后的一年内，由于意外损坏造成手机硬件故障，将可以获得最多两次维修服务，或 1 次主机更换服务。（本服务优先采取维修服务，若锤子数码售后服务中心确认无法修复，则进行主机更换。）","您可选择在购机时购买，或收货次日起 3 日内购买本服务。",'服务细则参见<a href="http://www.smartisan.com/support/#/repair" target="_blank">《锤子数码手机意外损坏保修服务条款》</a>。']},{sku:100014401,aliases:"t2Delay",postName:"safety2",name:"延长保修服务",category:" Smartisan T2 ",price:200,pageCss:"warranty-delay",img:CDN_HOST+"img/mobile/05.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus-1.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-delay.jpg?"+TIMESTAMP,warning:"您选购的保修服务支持单独退款，也可以随手机订单一同退款。",introduction:["如您购买本服务，在手机正常“三包” 1 年保修期结束后，将额外多获得 1 年保修服务。","延长保修服务期为 1 年，自手机正常“三包” 1 年服务期的截止日之次日零时开始，至第二年对应日之 24 时结束。",'服务细则参见<a href="http://www.smartisan.com/support/#/insurance" target="_blank">《锤子数码手机延长保修服务条款》</a>。']}],nuts:[{sku:100010302,aliases:"nutsAccident",postName:"safety1",name:"意外保修服务",category:"坚果手机",price:99,pageCss:"warranty-accident",nutsImg:CDN_HOST+"img/mobile/nuts-page-warranty-accident.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/04.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-accident.png?"+TIMESTAMP,warning:"您选购的保修服务不支持单独退款，仅可以随手机订单一同退款。",specialTitle:"“免费一次主机更换 ? ” “免费两次维修 ? ”",introduction:["在您购买意外保修服务后的一年内，由于意外损坏造成手机硬件故障，将可以获得最多两次维修服务，或 1 次主机更换服务。（本服务优先采取维修服务，若锤子数码售后服务中心确认无法修复，则进行主机更换。）","您可选择在购机时购买，或收货次日起 3 日内购买本服务。",'服务细则参见<a href="http://www.smartisan.com/support/#/repair" target="_blank">《锤子数码手机意外损坏保修服务条款》</a>。']},{sku:100010301,aliases:"nutsDelay",postName:"safety2",name:"延长保修服务",category:"坚果手机",price:99,pageCss:"warranty-delay",nutsImg:CDN_HOST+"img/mobile/nuts-page-warranty-delay.png?"+TIMESTAMP,img:CDN_HOST+"img/mobile/05.png?"+TIMESTAMP,pageImg:CDN_HOST+"img/mobile/phonecare-plus-1.png?"+TIMESTAMP,dialogImg:CDN_HOST+"img/warranty/page-delay.jpg?"+TIMESTAMP,warning:"您选购的保修服务支持单独退款，也可以随手机订单一同退款。",introduction:["如您购买本服务，在手机正常“三包” 1 年保修期结束后，将额外多获得 1 年保修服务。","延长保修服务期为 1 年，自手机正常“三包” 1 年服务期的截止日之次日零时开始，至第二年对应日之 24 时结束。",'服务细则参见<a href="http://www.smartisan.com/support/#/insurance" target="_blank">《锤子数码手机延长保修服务条款》</a>。']}]
}},a.prototype.modelCover=function(){return{nuts:[{sku:100010601,category:"youth",name:"坚果手机彩色背盖 青色",price:49,max:10,color:"light-blue",colorLabel:"青色",img:CDN_HOST+"img/mobile/cover-thumb-80-light-blue.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-light-blue.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100010602,category:"youth",name:"坚果手机彩色背盖 绿色",price:49,max:10,color:"green",colorLabel:"绿色",img:CDN_HOST+"img/mobile/cover-thumb-80-green.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-green.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-green.png?"+TIMESTAMP},{sku:100010603,category:"youth",name:"坚果手机彩色背盖 黄色",price:49,max:10,color:"yellow",colorLabel:"黄色",img:CDN_HOST+"img/mobile/cover-thumb-80-yellow.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-yellow.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-yellow.png?"+TIMESTAMP},{sku:100010604,category:"youth",name:"坚果手机彩色背盖 橙色",price:49,max:10,color:"orange",colorLabel:"橙色",img:CDN_HOST+"img/mobile/cover-thumb-80-orange.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-orange.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-orange.png?"+TIMESTAMP},{sku:100010605,category:"youth",name:"坚果手机彩色背盖 紫色",price:49,max:10,color:"purple",colorLabel:"紫色",img:CDN_HOST+"img/mobile/cover-thumb-80-purple.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-purple.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-purple.png?"+TIMESTAMP},{sku:100010606,category:"youth",name:"坚果手机彩色背盖 红色",price:49,max:10,color:"red",colorLabel:"红色",img:CDN_HOST+"img/mobile/cover-thumb-80-red.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-red.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-red.png?"+TIMESTAMP},{sku:100010607,category:"youth",name:"坚果手机彩色背盖 蓝色",price:49,max:10,color:"blue",colorLabel:"蓝色",img:CDN_HOST+"img/mobile/cover-thumb-80-blue.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-blue.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-blue.png?"+TIMESTAMP},{sku:100010608,category:"youth",name:"坚果手机彩色背盖 白色",price:49,max:10,color:"white",colorLabel:"白色",img:CDN_HOST+"img/mobile/cover-thumb-80-white.png?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-white.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-white.png?"+TIMESTAMP},{sku:100013701,category:"art",name:"坚果手机文艺青年版背壳 鸠羽紫",price:49,max:10,color:"violet",colorLabel:"鸠羽紫",img:CDN_HOST+"img/mobile/cover-thumb-80-violet.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-violet.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-violet.png?"+TIMESTAMP},{sku:100013702,category:"art",name:"坚果手机文艺青年版背壳 苏芳",price:49,max:10,color:"rose",colorLabel:"苏芳",img:CDN_HOST+"img/mobile/cover-thumb-80-rose.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-rose.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-rose.png?"+TIMESTAMP},{sku:100013703,category:"art",name:"坚果手机文艺青年版背壳 落栗",price:49,max:10,color:"coffee",colorLabel:"落栗",img:CDN_HOST+"img/mobile/cover-thumb-80-coffee.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-coffee.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-coffee.png?"+TIMESTAMP},{sku:100013704,category:"art",name:"坚果手机文艺青年版背壳 柳煤竹茶",price:49,max:10,color:"olive",colorLabel:"柳煤竹茶",img:CDN_HOST+"img/mobile/cover-thumb-80-olive.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-olive.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-olive.png?"+TIMESTAMP},{sku:100013705,category:"art",name:"坚果手机文艺青年版背壳 枯草",price:49,max:10,color:"sand",colorLabel:"枯草",img:CDN_HOST+"img/mobile/cover-thumb-80-sand.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-sand.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-sand.png?"+TIMESTAMP},{sku:100013706,category:"art",name:"坚果手机文艺青年版背壳 石竹",price:49,max:10,color:"pink",colorLabel:"石竹",img:CDN_HOST+"img/mobile/cover-thumb-80-pink.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-pink.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-pink.png?"+TIMESTAMP},{sku:100013707,category:"art",name:"坚果手机文艺青年版背壳 远州鼠",price:49,max:10,color:"bone",colorLabel:"远州鼠",img:CDN_HOST+"img/mobile/cover-thumb-80-bone.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-bone.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-bone.png?"+TIMESTAMP},{sku:100013708,category:"art",name:"坚果手机文艺青年版背壳 锖青磁",price:49,max:10,color:"grass",colorLabel:"锖青磁",img:CDN_HOST+"img/mobile/cover-thumb-80-grass.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/cover-thumb-80-grass.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-grass.png?"+TIMESTAMP}],t2:[{sku:100014901,category:"t2",name:"Smartisan T2 手机保护套 红色",price:49,max:10,color:"red",colorLabel:"红色",img:CDN_HOST+"img/t2/t2-cover-thumb-80-red.png?"+TIMESTAMP,image:CDN_HOST+"img/t2/t2-cover-thumb-80-red.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/t2/t2-cover-page-red.png?"+TIMESTAMP},{sku:100014902,category:"t2",name:"Smartisan T2 手机保护套 黑色",price:49,max:10,color:"black",colorLabel:"黑色",img:CDN_HOST+"img/t2/t2-cover-thumb-80-black.png?"+TIMESTAMP,image:CDN_HOST+"img/t2/t2-cover-thumb-80-black.png?"+TIMESTAMP,pageImage:CDN_HOST+"img/t2/t2-cover-page-black.png?"+TIMESTAMP}]}},a.prototype.modelHeadset=function(){return[{sku:100013608,name:"S-1000 BASS（红色，低频增强线控版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"red",colorLabel:"红色",img:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013610,name:"S-1000（红色，三段式均衡线控版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"red",colorLabel:"红色",img:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013612,name:"S-1000 BASS（黑色，低频增强线控版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"black",colorLabel:"黑色",img:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013614,name:"S-1000（黑色，三段式均衡线控版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"black",colorLabel:"黑色",img:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013616,name:"S-1000 BASS（白色，低频增强线控版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"white",colorLabel:"白色",img:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013618,name:"S-1000（白色，三段式均衡线控版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"line",ctrlLabel:"线控版",price:199,max:5,color:"white",colorLabel:"白色",img:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013607,name:"S-1000 BASS（红色，低频增强音乐版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"red",colorLabel:"红色",img:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013609,name:"S-1000（红色，三段式均衡音乐版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"red",colorLabel:"红色",img:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_red.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013611,name:"S-1000 BASS（黑色，低频增强音乐版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"black",colorLabel:"黑色",img:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013613,name:"S-1000（黑色，三段式均衡音乐版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"black",colorLabel:"黑色",img:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_black.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013615,name:"S-1000 BASS（白色，低频增强音乐版）",version:"bass",versionLabel:"低频增强版",versionLessLabel:"增强版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"white",colorLabel:"白色",img:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP},{sku:100013617,name:"S-1000（白色，三段式均衡音乐版）",version:"three",versionLabel:"三段式均衡版",versionLessLabel:"均衡版",ctrl:"music",ctrlLabel:"音乐版",price:179,max:5,color:"white",colorLabel:"白色",img:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,image:CDN_HOST+"img/mobile/headset_80_white.jpg?"+TIMESTAMP,pageImage:CDN_HOST+"img/mobile/nuts-page-light-blue.png?"+TIMESTAMP}]},a.prototype.pageImagesT1=function(){return{white:{gallery:[CDN_HOST+"img/mobile/phone_white_1.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_white_2.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_white_3.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_white_4.png?"+TIMESTAMP],specification:{phoneBlack:CDN_HOST+"img/mobile/specification-phone-black.png?"+TIMESTAMP,phoneWhite:CDN_HOST+"img/mobile/specification-phone-white.png?"+TIMESTAMP,anniversaryPhoneBlack:CDN_HOST+"img/mobile/specification-anniversary-phone-black.png?"+TIMESTAMP,anniversaryPhoneWhite:CDN_HOST+"img/mobile/specification-anniversary-phone-white.png?"+TIMESTAMP,anniversaryPhoneGold:CDN_HOST+"img/mobile/specification-anniversary-phone-blackgold.png?"+TIMESTAMP,phoneSize:CDN_HOST+"img/mobile/specification-phone-size-white.png?"+TIMESTAMP,phoneCPU:CDN_HOST+"img/mobile/specification-phone-cpu.png?"+TIMESTAMP,phoneUSB:CDN_HOST+"img/mobile/procuct-interface-white.jpg?"+TIMESTAMP,phoneIcons:CDN_HOST+"img/mobile/specification-icons.png?"+TIMESTAMP,preInstallIcons:CDN_HOST+"img/mobile/specification-preicons.png?"+TIMESTAMP}},black:{gallery:[CDN_HOST+"img/mobile/phone_black_1.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_black_2.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_black_3.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_black_4.png?"+TIMESTAMP],specification:{phoneBlack:CDN_HOST+"img/mobile/specification-phone-black.png?"+TIMESTAMP,phoneWhite:CDN_HOST+"img/mobile/specification-phone-white.png?"+TIMESTAMP,anniversaryPhoneBlack:CDN_HOST+"img/mobile/specification-anniversary-phone-black.png?"+TIMESTAMP,anniversaryPhoneWhite:CDN_HOST+"img/mobile/specification-anniversary-phone-white.png?"+TIMESTAMP,anniversaryPhoneGold:CDN_HOST+"img/mobile/specification-anniversary-phone-blackgold.png?"+TIMESTAMP,phoneSize:CDN_HOST+"img/mobile/specification-phone-size-black.png?"+TIMESTAMP,phoneCPU:CDN_HOST+"img/mobile/specification-phone-cpu.png?"+TIMESTAMP,phoneUSB:CDN_HOST+"img/mobile/procuct-interface-black.jpg?"+TIMESTAMP,phoneIcons:CDN_HOST+"img/mobile/specification-icons.png?"+TIMESTAMP,preInstallIcons:CDN_HOST+"img/mobile/specification-preicons.png?"+TIMESTAMP}},anniversary:{gallery:[CDN_HOST+"img/mobile/phone_black_1.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_blackgold_2.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_black_3.png?"+TIMESTAMP,CDN_HOST+"img/mobile/phone_black_4.png?"+TIMESTAMP],specification:{phoneBlack:CDN_HOST+"img/mobile/specification-phone-black.png?"+TIMESTAMP,phoneWhite:CDN_HOST+"img/mobile/specification-phone-white.png?"+TIMESTAMP,anniversaryPhoneBlack:CDN_HOST+"img/mobile/specification-anniversary-phone-black.png?"+TIMESTAMP,anniversaryPhoneWhite:CDN_HOST+"img/mobile/specification-anniversary-phone-white.png?"+TIMESTAMP,anniversaryPhoneGold:CDN_HOST+"img/mobile/specification-anniversary-phone-blackgold.png?"+TIMESTAMP,phoneSize:CDN_HOST+"img/mobile/specification-phone-size-black.png?"+TIMESTAMP,phoneCPU:CDN_HOST+"img/mobile/specification-phone-cpu.png?"+TIMESTAMP,phoneUSB:CDN_HOST+"img/mobile/procuct-interface-black.jpg?"+TIMESTAMP,phoneIcons:CDN_HOST+"img/mobile/specification-icons.png?"+TIMESTAMP,preInstallIcons:CDN_HOST+"img/mobile/specification-preicons.png?"+TIMESTAMP}}}},a.prototype.modelMobileGift=function(){return{}},a.prototype.parsePhones=function(t,a){var o=this,i={mapNormal:{},mapYoung:{},mapBlack:{},mapDefect:{},listNormal:[],listYoung:[],listBlack:[],listDefect:[]},n=[].concat(t);return e.each(n,function(t,n){switch(n=e.extend({},n,a[n.color]),n.id=n.goods_id=n.sku,o.mapPhones[n.sku]=n,n.version){case"defect":i.mapDefect[n.sku]=n,i.listDefect.push(n);break;case"young":i.mapYoung[n.sku]=n,i.listYoung.push(n);break;case"black":i.mapBlack[n.sku]=n,i.listBlack.push(n);break;default:i.mapNormal[n.sku]=n,i.listNormal.push(n)}}),i},a.prototype.formatWarrantyData=function(){var t=this,a=t.modelWarranty(),o=[].concat(a.t1),i=[].concat(a.t2),n=[].concat(a.nuts);e.each(o,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapWarrantys[o.sku]=o,t.mapWarrantys[o.aliases]=o,t.listWarrantysT1.push(o)}),e.each(i,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapWarrantys[o.sku]=o,t.mapWarrantys[o.aliases]=o,t.listWarrantysT2.push(o)}),e.each(n,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapWarrantys[o.sku]=o,t.mapWarrantys[o.aliases]=o,t.listWarrantysNuts.push(o)})},a.prototype.formatCoverData=function(){var t=this,a=t.modelCover(),o=[].concat(a.nuts),i=[].concat(a.t2);e.each(o,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapCovers[o.sku]=o,t.listCoversNuts.push(o)}),e.each(i,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapCovers[o.sku]=o,t.listCoversT2.push(o)})},a.prototype.formatHeadsetData=function(){var t=this,a=t.modelHeadset(),o=[].concat(a);e.each(o,function(a,o){o=e.extend({},o),o.image=o.img,o.id=o.goods_id=o.sku,t.mapHeadset[o.sku]=o,t.listHeadset.push(o)})},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addService("MobileFitting",function(e,t){function a(){var e=this;e.type={},e.UserService=null,e.MobileGoodsService=null,e.StorageService=null,e.CartService=null}return a.prototype.init=function(){var e=this;e.UserService=t.getService("User"),e.MobileGoodsService=t.getService("MobileGoods"),e.StorageService=t.getService("LocalStorage"),e.CartService=t.getService("Cart"),e.mapStock={}},a.prototype.headset=function(e){var t=this,a={},o=[],i=t.MobileGoodsService.modelHeadset(),n=t.MobileGoodsService.mapHeadset;switch(e){default:o=[100013614,100013610,100013612,100013608],a={version:[{value:"bass",label:"低频增强版",lessLabel:"增强版"},{value:"three",label:"三段式均衡版",lessLabel:"均衡版"}],color:[{value:"black",label:"黑色"},{value:"red",label:"红色"}]}}return{skus:o,params:a,listHeadset:i,mapHeadset:n}},a.prototype.cover=function(e){var a,o,i=this,n={},r=[],s=[],c=i.MobileGoodsService.mapCovers,l=100;switch(e){case"youth":s=i.MobileGoodsService.modelCover().nuts,r=[100010606,100010604,100010603,100010602,100010601,100010607,100010605,100010608],n=[{value:"red",label:"红色"},{value:"orange",label:"橙色"},{value:"yellow",label:"黄色"},{value:"green",label:"绿色"},{value:"light-blue",label:"青色"},{value:"blue",label:"蓝色"},{value:"purple",label:"紫色"},{value:"white",label:"白色"}],o="背壳",l=49,a=t.config.useGoodsDiscount?{num:t.config.goodsDiscount.cover.num,discount:t.config.goodsDiscount.cover.discount}:null;break;case"art":s=i.MobileGoodsService.modelCover().nuts,r=[100013707,100013703,100013702,100013706,100013705,100013704,100013708,100013701],n=[{value:"bone",label:"远州鼠"},{value:"coffee",label:"落栗"},{value:"rose",label:"苏芳"},{value:"pink",label:"石竹"},{value:"sand",label:"枯草"},{value:"olive",label:"柳煤竹茶"},{value:"grass",label:"锖青磁"},{value:"violet",label:"鸠羽紫"}],o="背壳",l=49,a=t.config.useGoodsDiscount?{num:t.config.goodsDiscount.cover.num,discount:t.config.goodsDiscount.cover.discount}:null;break;case"t2":s=i.MobileGoodsService.modelCover().t2,r=[100014901,100014902],n=[{value:"black",label:"黑色"},{value:"red",label:"红色"}],o="保护套",l=49}return{skus:r,coverName:o,price:l,params:n,listCover:s,mapCover:c,discountData:a}},a.prototype.getFitting=function(a,o){var i=this,n={fittingStock:!1,headset:{},cover:{}},r=[];switch(a){case"nuts":switch(r=["headset:1"],o){case"youth":r.push("cover:youth");break;case"art":r.push("cover:art")}break;case"t2":r=["headset:1","cover:t2"];break;default:r=[]}if(r.length){for(var s=[],c={},l=0,u=r.length;u>l;l++){var d=r[l].split(":")[0],p=r[l].split(":")[1],m=t.isFunction(i[d])&&i[d](p);m&&(s=s.concat(m.skus),c[d]={fittingCategory:d,fittingVersion:p,fittingData:m})}return i.CartService.getProdInfo(s).then(function(t){return e.each(c,function(e,a){switch(e){case"cover":n.cover=i.parseCoverData(a,t),!!n.cover.stock&&(n.fittingStock=!0);break;case"headset":n.headset=i.parseHeadsetData(a,t),!!n.headset.stock&&(n.fittingStock=!0)}}),n})}return n},a.prototype.parseHeadsetData=function(a,o){var i=a.fittingData.params,n=a.fittingData.mapHeadset,r={stock:!1,curData:{},listData:{}};return e.each(i.version,function(a,s){e.each(i.color,function(a,i){var c=_.find(n,function(e){return e.version==s.value&&e.color==i.value&&"line"==e.ctrl});if(c){t.isArray(r.listData[s.value])||(r.listData[s.value]=[]);var l=o[c.sku],u=1==l.status&&!(l.store_nums<=0),d=e.extend({},c,{stock:u});r.listData[s.value].push(d),!r.curData.sku&&u&&(r.curData=d),!!u&&(r.stock=!0)}})}),r},a.prototype.parseCoverData=function(t,a){var o=t.fittingData.params,i=(t.fittingData.mapCover,t.fittingData.listCover),n={},r={stock:!1,listData:[],curData:{},coverName:t.fittingData.coverName,price:t.fittingData.price,discountData:t.fittingData.discountData};return e.each(i,function(e,t){n[t.color]=t}),e.each(o,function(t,o){var i=a[n[o.value].sku],s=1==i.status&&!(i.store_nums<=0),c=e.extend({},n[o.value],i,{stock:s});r.listData.push(c),!r.curData.sku&&s&&(r.curData=c),!!s&&(r.stock=!0)}),r},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addService("Discount",function(e,t){function a(){}return a.prototype.init=function(){},a.prototype.getCouponByGoods=function(t){var a=this;return mainService.ajax({url:"coupon/GetListsByGoods",data:{goods_infos:t},success:function(t){t=t||[];var o={list:[],couponMap:{},defCash:null,defDiscount:null};return o.list=a.parseCouponData(t),e.each(o.list,function(e,t){o.defCash||1!=t.couponType||(o.defCash=t),o.defDiscount||2!=t.couponType||(o.defDiscount=t),o.couponMap[t.code]=t}),o}})},a.prototype.getCouponInfo=function(){var t=this;return mainService.ajax({url:"Coupon/GetList",success:function(a){return a.list=t.parseCouponData(a.list,a.time_now),a.couponMap={},e.each(a.list,function(e,t){a.couponMap[t.code]=t}),a.getTime=0|a.t1_gift_times,a.exchange=a.getTime>0,a}})},a.prototype.getReceiveCoupon=function(){var e=this;return mainService.ajax({url:"Coupon/T1GiftCards",success:function(t){var a=e.parseCouponData(t,0);return a}})},a.prototype.activateCoupon=function(e){var a=t.getModel("Account"),o="T2"+a.get("uid");return mainService.ajax({url:"RedeemCode/Exchange",data:{code:o,rule_id:e}})},a.prototype.parseCouponData=function(a,o){var i=[],n=!1;t.isArray(a)?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);switch(c.status=0|c.status,c.rule_id=0|c.rule_id,c.type_id=0|c.type_id,t.filter.date(c.start,"YYYY-MM-DD")==t.filter.date(c.end,"YYYY-MM-DD")&&(c.onlyDay=!0),c.couponType=4==c.type_id?2:1,c.ruleLabel=c.rule,c.couponType){case 1:c.couponName="现金券",c.descrtiptionLabel="可自定义使用金额";break;case 2:c.couponName="优惠券",c.descrtiptionLabel="仅限一次性消费使用";break;default:c.couponName="现金券",c.descrtiptionLabel="可自定义使用金额"}void 0===c.real_amount&&(c.real_amount=c.amount),c.invalid=!1,c.invalidLabel="",0==c.real_amount?(c.invalid=!0,c.invalidLabel="已使用"):o<c.start?(c.invalid=!0,c.invalidLabel="未生效"):o>c.end&&(c.invalid=!0,c.invalidLabel="已失效"),i.push(c)}return n?i:i[0]},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addModel("Account",function(){return Backbone.Model.extend({defaults:{},initialize:function(){}})},!0),window.Store.addModel("Sku",function(){return Backbone.Model.extend({defaults:{buy_num:1},initialize:function(){}})}),window.Store.addService("Goods",function(e,t){function a(){var e=this;e.MobileGoodsService=null,e.CartService=null,e.GoodsCollection=null,e.goodsCache=null,e.tempContact={arr:[],map:{}}}return a.prototype.init=function(){var e=this;e.GoodsCollection=t.getCollection("Goods",[]),e.MobileGoodsService=t.getService("MobileGoods"),e.CartService=t.getService("Cart"),e.goodsCache={}},a.prototype.isReservationFiil=function(){return mainService.ajax({url:"fill/IsSubscribe",error:function(e,t,a){return 10005==e?!1:void 0}})},a.prototype.reservationFiil=function(e){return mainService.ajax({url:"fill/Subscribe",data:{mobile:e},error:function(e,t,a){return 10005==e?!1:void 0}})},a.prototype.getSimpleDetail=function(a){var o=this,i=t.isArray(a)?a:(a+"").split(","),n=[],r={};return e.each(i,function(t,a){o.goodsCache[a]?r[a]=e.extend({},o.goodsCache[a]):n.push(a)}),n.length?o.fetchGoodsDetail(n).then(function(t){return t.then(function(t){return e.each(n,function(e,a){!!t[a]&&(r[a]=t[a])}),r})}):t.proxyDefer(r)},a.prototype.fetchMobileDetail=function(a){var o=this,i=t.isArray(a)?a:(a+"").split(","),n=o.MobileGoodsService.mapPhones,r=[],s={},c=[];return e.each(c,function(t,a){if(!o.goodsCache[a]){var i=e.extend({},o.MobileGoodsService.mapPhones[a],{status:12,store_status:!0});o.parseCommonData(i)}}),e.each(i,function(t,a){o.goodsCache[a]?s[a]=e.extend({},o.goodsCache[a]):!!n[a]&&r.push(a)}),r.length?mainService.ajax({url:"goods/GetMobileSimpleInfo",data:{goods_str:r.join(",")},success:function(t){return e.each(t.list,function(t,a){var i=o.parseCommonData(a);s[i.sku]=e.extend({},i),o.CartService.syncCollection(i,!0)}),s}}):t.proxyDefer(s)},a.prototype.getWarrantyDetail=function(t){var a=this,o=a.MobileGoodsService.mapWarrantys[t],i=a.parseCommonData(o);return e.extend({},i)},a.prototype.fetchGoodsDetail=function(a){var o=this,i=t.isArray(a)?a:(a+"").split(","),n=(o.MobileGoodsService.mapWarrantys,o.MobileGoodsService.mapCovers,[]),r={},s={};return e.each(i,function(t,a){o.goodsCache[a]?s[a]=e.extend({},o.goodsCache[a]):(n.push(a),r[a]=1)}),n.length?mainService.ajax({isNode:!0,type:"get",url:"product/skus",data:{ids:n.join(","),with_spu:!0,with_stock:!0},success:function(a){if(e.each(a.list,function(t,a){if(!o.goodsCache[a.id]&&r[a.id]){var i=o.parseCommonData(a);o.goodsCache[a.sku]=i,s[i.sku]=e.extend({},i),o.CartService.syncCollection(i,!0)}}),o.tempContact.arr.length){var i=[],n=e.extend({},o.tempContact);return e.each(n.map,function(e){i.push(e)}),o.tempContact={arr:[],map:{}},o.fetchGoodsDetail(i).then(function(t){return t.then(function(t){var a=e.extend(s,t);return e.each(n.arr,function(t,i){o.goodsCache[i.psku]&&(o.goodsCache[i.psku][i.type]=e.extend({},o.goodsCache[i.sku],a[i.psku][i.type])),a[i.psku]=o.goodsCache[i.psku],o.CartService.syncCollection(o.goodsCache[i.psku],!0)}),a})})}return t.proxyDefer(s)}}):t.proxyDefer(t.proxyDefer(s))},a.prototype.parseCommonData=function(a,o){var i=this,n=t.isArray(a),a=n?a:[a],r=i.MobileGoodsService.mapPhones,s=i.MobileGoodsService.mapWarrantys,c=i.MobileGoodsService.mapCovers,l=[],u=e.extend({imgSize:80,imgSuffix:"jpg"},o);return e.each(a,function(a,o){o.product_info=o.product_info||{},o.product_info.accessory_goods=o.spu&&o.spu.product_info&&o.spu.product_info.accessory_goods||{},o.shop_info=o.shop_info||{};var n={id:o.id||o.sku,sku:o.id||o.sku,name:o.shop_info.title||o.name,subName:o.shop_info.sub_title,max:o.shop_info.limit_num||10,price:o.price,link:null,isSell:3==o.sale_status,isOut:!o.in_stock,isMobile:1==o.product_info.is_mobile,isWarranty:0!=o.product_info.is_insurance,isNormal:0==o.product_info.is_mobile&&0==o.product_info.is_insurance,isCustom:o.shop_info.is_custom,accessoryGoods:{}};if(n.max=0|n.max||1,n.price=0|n.price,n.isOut=n.isWarranty?!1:n.isOut,n.isSell=n.isWarranty?!0:n.isSell,e.each(o.product_info.accessory_goods,function(e,t){var a="gift";2==t.is_insurance?(n.accessoryGoods[e]={sku:e,aliases:"accident"},n.accident={sku:e,mobile:n.sku},a="accident"):4==t.is_insurance?(n.accessoryGoods[e]={sku:e,aliases:"delay"},n.delay={sku:e,mobile:n.sku},a="delay"):n.gift={sku:e},i.tempContact.arr.push({psku:n.sku,sku:e,type:a}),i.tempContact.map[e]=1}),n.isMobile&&r[n.sku])switch(n=e.extend({},r[n.sku],n),n.image=t.filter.retinaImage(n.image,!0),n.category){case"nuts":n.link=t.config.webUrl+"jianguo";break;case"t2":n.link=t.config.webUrl+"t2"}else n.isWarranty&&s[n.sku]?(n=e.extend({},s[n.sku],n),n.image=t.filter.retinaImage(n.image,!0)):n=e.extend(n,{link:t.config.webUrl+"item/"+n.sku,image:t.filter.goodsImage(o.shop_info.image,u.imgSize,u.imgSuffix),isDiscount:t.config.useGoodsDiscount&&c[n.sku]&&"t2"!=c[n.sku].category});i.goodsCache[n.sku]=e.extend({},n),l.push(n)}),n?l:l[0]},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addModel("GoodsItem",function(){{var e=Store.getService("MobileGoods"),t=e.mapPhones,a=e.mapWarrantys;e.mapCovers}return Backbone.Model.extend({defaults:{id:0,sku:0,name:"商品",price:0,max:5,image:"img/i.gif",isSell:0,isOut:0,isMobile:0,isWarranty:0,isNormal:0,isCustom:0},parse:function(e,o){return e.max=0|e.max,t[e.sku]?$.extend({},t[e.sku],e):a[e.sku]?$.extend({},a[e.sku],e):e}})}),window.Store.addCollection("Goods",function(){return Backbone.Collection.extend({model:Store.getModel("GoodsItem")})},!0),window.Store.addService("GoodsRss",function(e,t){function a(){var e=this;e.activeStart=!1,e.activeEnd=!1}return a.prototype.init=function(){},a.prototype.curTime=function(){var e=this;return mainService.ajax({type:"get",dataType:"jsonp",url:"http://setting.smartisan.com/info/time?jsonp=1",jsonpCallback:"callback",isStyle:!0,success:function(a){a.timestamp>=1463673600&&a.timestamp<146376e4&&(e.activeStart=!0,t.config.useGoodsDiscount=!1),a.timestamp>=1463673600&&(e.activeEnd=!0)}})},a.prototype.active520=function(){var a=this,o={};return a.activeStart?mainService.ajax({type:"get",dataType:"jsonp",cache:!0,url:"http://static.smartisanos.cn/activity/20160520/goods.js?"+TIMESTAMP,jsonpCallback:"callback",isStyle:!0,success:function(t){return e.each(t,function(t,a){a.sku_list&&e.each(a.sku_list,function(e,t){1==t.activity_id&&(o[t.sku]=1)})}),o}}):t.proxyDefer(o)},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addService("Easter",function(e,t){function a(){var e=this;e.MobileGoodsService=null,e.StorageService=null}var o={t2:{egg:7},jianguo:{egg:3},smartisan:[{sku:100013612,egg:3,color:1},{sku:100014902,egg:1,color:1},{sku:100010608,egg:7,color:1},{sku:100016201,egg:9,color:1},{sku:100013504,egg:12,color:1},{sku:100013403,egg:2,color:1}],headset:[{sku:100000905,egg:1,color:1},{sku:100001103,egg:12,color:1},{sku:100015301,egg:11,color:1},{sku:100008101,egg:9,color:1},{sku:100009703,egg:2,color:1},{sku:100003201,egg:6,color:1},{sku:100001502,egg:7,color:1},{sku:100008005,egg:3,color:1},{sku:100001303,egg:4,color:1}],cover:[{sku:100011701,egg:6},{sku:100011201,egg:2},{sku:100011101,egg:7},{sku:100010901,egg:3},{sku:100011001,egg:7},{sku:100012601,egg:2},{sku:100011301,egg:5},{sku:100011601,egg:9},{sku:100011801,egg:2},{sku:100011501,egg:10},{sku:100011901,egg:2},{sku:100012001,egg:1},{sku:100012201,egg:2},{sku:100012301,egg:7},{sku:100012501,egg:3},{sku:100014001,egg:11},{sku:100014101,egg:10},{sku:100014801,egg:9}]};return a.prototype.init=function(){var e=this;e.MobileGoodsService=t.getService("MobileGoods"),e.StorageService=t.getService("LocalStorage")},a.prototype.getEasterStatus=function(){var a=this,o=a.StorageService.get("wave"),i=a.StorageService.get("active");return mainService.ajax({type:"get",url:"product/easter/status",isNode:!0,success:function(n){var r=e.extend({},n);switch(r.wave=0|r.wave,(o!=r.wave||i!=r.on)&&(a.clearEgg(),a.StorageService.set("wave",r.wave),a.StorageService.set("active",r.on)),r.wave){case 1:r.waveLabel="首次";break;case 2:r.waveLabel="第二次";break;case 3:r.waveLabel="第三次";break;case 4:r.waveLabel="第四次";break;case 5:r.waveLabel="第五次";break;default:r.waveLabel="首次"}if(r.next){var s=t.filter.remainingtime(r.next,r.now,"date").split(":"),c=s[1].split(""),l=s[2].split(""),u=s[3].split("");r.hour01=c[0],r.hour02=c[1],r.minute01=l[0],r.minute02=l[1],r.second01=u[0],r.second02=u[1],r.dayLabel=t.filter.date(r.next,"DD")-t.filter.date(r.now,"DD")>0?"明日":"今日"}return r}})},a.prototype.getEasterData=function(){var a=this,i=a.MobileGoodsService.mapPhones;return mainService.ajax({type:"get",url:"product/easter/skus",isNode:!0,success:function(n){var r={},s={},c={},l={smartisan:[],headset:[],cover:[]};return e.each(n,function(t,o){r[o.id]=e.extend({costPrice:o.base_info.goods_price||o.base_info.good_price,subName:o.base_info.subtitle,isBroken:!!a.StorageService.get("easter"+o.id),easterImage:CDN_HOST+"img/easter/goods-"+o.id+".png?"+TIMESTAMP},o),1==o.base_info.type&&(c=r[o.id]),2==o.base_info.type&&(s=r[o.id])}),l.t2=e.extend({},o.t2,s,{link:!s.id||i[s.id]?"http://buy.smartisan.com":t.config.storeUrl+"item/"+s.id,isBroken:!!a.StorageService.get("eastert2")}),l.jianguo=e.extend({},o.jianguo,c,{link:!c.id||i[c.id]?"/#/jianguo":t.config.storeUrl+"item/"+c.id,isBroken:!!a.StorageService.get("easterjianguo")}),e.each(o.smartisan,function(t,a){!!r[a.sku]&&l.smartisan.push(e.extend({},a,r[a.sku]))}),e.each(o.headset,function(t,a){!!r[a.sku]&&l.headset.push(e.extend({},a,r[a.sku]))}),e.each(o.cover,function(t,a){!!r[a.sku]&&l.cover.push(e.extend({},a,r[a.sku]))}),l.keyMap=r,l}})},a.prototype.brokenEgg=function(e){var t=this;t.StorageService.set("easter"+e,1)},a.prototype.clearEgg=function(){var t=this,a=t.StorageService.filter("^easter");e.each(a,function(e,a){t.StorageService.remove(e)})},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addView("CartQuantity",function(){return Backbone.View.extend({events:{"click .js-select-quantity .up":"quantityUp","click .js-select-quantity .down":"quantityDown","keydown .js-select-quantity input":"quantityChange","blur .js-select-quantity input":"quantityBlur"},initialize:function(e){var t=this;t.DialogPlugin=Store.getPlugin("Dialog"),t.cartService=Store.getService("Cart"),t.options=e,t.arrClickTime={}},render:function(e){return this},quantityChange:function(e){var t=e.keyCode;return!e.shiftKey&&(t>47&&58>t||t>94&&106>t||8==t||13==t)?void(13==t&&$(e.currentTarget).blur()):!1},quantityBlur:function(e){var t=$(e.currentTarget),a=t.siblings("ul"),o=(t.closest(".cart-items"),t.closest(".js-select-quantity")),i=o.data("min")||1,n=o.data("max")||0,r=t.val();r=r.match(/^\d+$/)?r:1,r=Math.max(r,i),r=Math.min(r,n),t.val(r),this.resetList(a,r)},quantityUp:function(e){var t=this,a=$(e.currentTarget),o=a.siblings(".num"),i=o.find("input"),n=o.find("ul"),r=a.closest(".cart-items"),s=i.closest(".js-select-quantity"),c=s.data("max")||0,l=i.val(),u=o.height();return c=Math.max(c,1),r.hasClass("cart-disabled-items")?!1:l>=c&&t.options.useData?(t.DialogPlugin.message({message:"已达到可购买的最大数量"}),!1):n.is("animated")||l>=c?!1:(i.hide(),n.show(),void n.animate({top:"-="+u},100,function(){i.val(++l),i.show(),n.css("top","-"+u+"px").hide(),t.resetList(n,l)}))},quantityDown:function(e){var t=this,a=$(e.currentTarget),o=a.siblings(".num"),i=o.find("input"),n=o.find("ul"),r=a.closest(".cart-items"),s=i.closest(".js-select-quantity"),c=s.data("min")||1,l=i.val(),u=o.height();return t.options.canDelete&&(c=0),
r.hasClass("cart-disabled-items")?!1:1!=l||t.options.canDelete?n.is("animated")||c>=l?!1:(i.hide(),n.show(),void n.animate({top:"+="+u},100,function(){i.val(--l),i.show(),n.css("top","-"+u+"px").hide(),t.resetList(n,l)})):!1},resetList:function(e,t){var a=this,o=[t-1,t,t-0+1];e.html(ct.compile(ct.get("tempLi",!0),{arr:o})),Store.isFunction(a.options.callback)&&a.options.callback(e,t)},getAllNum:function(){var e={};return this.$(".js-select-quantity").each(function(){var t=$(this);e[t.data("id")]={num:t.find("input").val()}}),e},delayClick:function(e,t){var a=this,o=+new Date;a.arrClickTime[e]||(a.arrClickTime[e]=[]),a.arrClickTime[e].push(o),setTimeout(function(){o==a.arrClickTime[e][a.arrClickTime[e].length-1]&&"function"==typeof t&&t()},a.options.delayTime||1e3)}})}),window.Store.addService("Payment",function(e,t){function a(){var e=this;e.type={},e.loopWeixinStatus=null}return a.prototype.init=function(){var e=this;e.type=e.tempData()},a.prototype.tempData=function(){return{installment:[{value:"4_3",period:"3",fee:"3.9",monthFee:"1.3"},{value:"4_6",period:"6",fee:"4.8",monthFee:"0.8"},{value:"4_12",period:"12",fee:"7.2",monthFee:"0.6"},{value:"4_18",period:"18",fee:"10.8",monthFee:"0.6"},{value:"4_24",period:"24",fee:"14.4",monthFee:"0.6"}],platform:[{name:"微信支付",value:"9",image:CDN_HOST+"img/weixinpay.png?"+TIMESTAMP},{name:"支付宝",value:"1",image:CDN_HOST+"img/alipay.png?"+TIMESTAMP},{name:"银联在线",value:"3",image:CDN_HOST+"img/ylpay.png?"+TIMESTAMP}],bank:[{name:"工商银行",value:"5_0005",image:CDN_HOST+"img/pay-icbc.png?"+TIMESTAMP},{name:"农业银行",value:"5_4008",image:CDN_HOST+"img/pay-abc.png?"+TIMESTAMP},{name:"中国银行",value:"5_1023",image:CDN_HOST+"img/pay-boc.png?"+TIMESTAMP},{name:"建设银行",value:"5_1010",image:CDN_HOST+"img/pay-ccb.png?"+TIMESTAMP},{name:"招商银行",value:"5_0007",image:CDN_HOST+"img/pay-cmb.png?"+TIMESTAMP},{name:"浦发银行",value:"5_1022",image:CDN_HOST+"img/pay-spdb.png?"+TIMESTAMP},{name:"广发银行",value:"5_0026",image:CDN_HOST+"img/pay-gdb.png?"+TIMESTAMP},{name:"交通银行",value:"5_1025",image:CDN_HOST+"img/pay-bocom.png?"+TIMESTAMP},{name:"邮储银行",value:"5_0028",image:CDN_HOST+"img/pay-psbc.png?"+TIMESTAMP},{name:"中信银行",value:"5_0004",image:CDN_HOST+"img/pay-cncb.png?"+TIMESTAMP},{name:"民生银行",value:"5_0015",image:CDN_HOST+"img/pay-cmbc.png?"+TIMESTAMP},{name:"光大银行",value:"5_0027",image:CDN_HOST+"img/pay-ceb.png?"+TIMESTAMP},{name:"华夏银行",value:"5_1021",image:CDN_HOST+"img/pay-hxb.png?"+TIMESTAMP},{name:"兴业银行",value:"5_0009",image:CDN_HOST+"img/pay-cib.png?"+TIMESTAMP},{name:"上海银行",value:"5_0030",image:CDN_HOST+"img/pay-bos.png?"+TIMESTAMP},{name:"上海农商",value:"5_0029",image:CDN_HOST+"img/pay-srcb.png?"+TIMESTAMP},{name:"平安银行",value:"5_0031",image:CDN_HOST+"img/pay-pab.png?"+TIMESTAMP},{name:"北京农商",value:"5_0033",image:CDN_HOST+"img/pay-brcb.png?"+TIMESTAMP}],cmbBank:[{name:"工商银行",value:"5_0005",image:CDN_HOST+"img/pay-icbc.png?"+TIMESTAMP},{name:"农业银行",value:"5_4008",image:CDN_HOST+"img/pay-abc.png?"+TIMESTAMP},{name:"中国银行",value:"5_1023",image:CDN_HOST+"img/pay-boc.png?"+TIMESTAMP},{name:"建设银行",value:"5_1010",image:CDN_HOST+"img/pay-ccb.png?"+TIMESTAMP},{name:"招商银行",value:"7_9999",image:CDN_HOST+"img/pay-cmb.png?"+TIMESTAMP},{name:"浦发银行",value:"5_1022",image:CDN_HOST+"img/pay-spdb.png?"+TIMESTAMP},{name:"广发银行",value:"5_0026",image:CDN_HOST+"img/pay-gdb.png?"+TIMESTAMP},{name:"交通银行",value:"5_1025",image:CDN_HOST+"img/pay-bocom.png?"+TIMESTAMP},{name:"邮储银行",value:"5_0028",image:CDN_HOST+"img/pay-psbc.png?"+TIMESTAMP},{name:"中信银行",value:"5_0004",image:CDN_HOST+"img/pay-cncb.png?"+TIMESTAMP},{name:"民生银行",value:"5_0015",image:CDN_HOST+"img/pay-cmbc.png?"+TIMESTAMP},{name:"光大银行",value:"5_0027",image:CDN_HOST+"img/pay-ceb.png?"+TIMESTAMP},{name:"华夏银行",value:"5_1021",image:CDN_HOST+"img/pay-hxb.png?"+TIMESTAMP},{name:"兴业银行",value:"5_0009",image:CDN_HOST+"img/pay-cib.png?"+TIMESTAMP},{name:"上海银行",value:"5_0030",image:CDN_HOST+"img/pay-bos.png?"+TIMESTAMP},{name:"上海农商",value:"5_0029",image:CDN_HOST+"img/pay-srcb.png?"+TIMESTAMP},{name:"平安银行",value:"5_0031",image:CDN_HOST+"img/pay-pab.png?"+TIMESTAMP},{name:"北京农商",value:"5_0033",image:CDN_HOST+"img/pay-brcb.png?"+TIMESTAMP}],backCmbBank:[{name:"工商银行",value:"7_0102",image:CDN_HOST+"img/pay-icbc.png?"+TIMESTAMP},{name:"农业银行",value:"7_0103",image:CDN_HOST+"img/pay-abc.png?"+TIMESTAMP},{name:"中国银行",value:"7_0104",image:CDN_HOST+"img/pay-boc.png?"+TIMESTAMP},{name:"建设银行",value:"7_0105",image:CDN_HOST+"img/pay-ccb.png?"+TIMESTAMP},{name:"招商银行",value:"7_9999",image:CDN_HOST+"img/pay-cmb.png?"+TIMESTAMP},{name:"浦发银行",value:"7_0310",image:CDN_HOST+"img/pay-spdb.png?"+TIMESTAMP},{name:"广发银行",value:"7_0306",image:CDN_HOST+"img/pay-gdb.png?"+TIMESTAMP},{name:"交通银行",value:"7_0301",image:CDN_HOST+"img/pay-bocom.png?"+TIMESTAMP},{name:"邮储银行",value:"7_0100",image:CDN_HOST+"img/pay-psbc.png?"+TIMESTAMP},{name:"中信银行",value:"7_0302",image:CDN_HOST+"img/pay-cncb.png?"+TIMESTAMP},{name:"民生银行",value:"7_0305",image:CDN_HOST+"img/pay-cmbc.png?"+TIMESTAMP},{name:"光大银行",value:"7_0303",image:CDN_HOST+"img/pay-ceb.png?"+TIMESTAMP},{name:"华夏银行",value:"7_0304",image:CDN_HOST+"img/pay-hxb.png?"+TIMESTAMP},{name:"兴业银行",value:"7_0309",image:CDN_HOST+"img/pay-cib.png?"+TIMESTAMP},{name:"上海银行",value:"7_0313",image:CDN_HOST+"img/pay-bos.png?"+TIMESTAMP},{name:"上海农商",value:"7_0402",image:CDN_HOST+"img/pay-srcb.png?"+TIMESTAMP},{name:"平安银行",value:"7_0410",image:CDN_HOST+"img/pay-pab.png?"+TIMESTAMP},{name:"北京农商",value:"7_1418",image:CDN_HOST+"img/pay-brcb.png?"+TIMESTAMP}],postageBank:[{value:"",label:"请选择"},{value:"0017",label:"招商银行"},{value:"0001",label:"工商银行"},{value:"0002",label:"建设银行"},{value:"0003",label:"交通银行"},{value:"0004",label:"农业银行"},{value:"0005",label:"邮政储蓄银行"},{value:"0006",label:"中国银行"},{value:"0008",label:"光大银行"},{value:"0009",label:"广发银行"},{value:"0010",label:"中信银行"},{value:"0011",label:"恒丰银行"},{value:"0012",label:"华夏银行"},{value:"0013",label:"民生银行"},{value:"0014",label:"浦发银行"},{value:"0015",label:"深圳发展银行"},{value:"0016",label:"兴业银行"},{value:"0022",label:"北京银行"},{value:"0023",label:"上海银行"},{value:"0026",label:"天津银行"},{value:"0028",label:"成都银行"},{value:"0037",label:"重庆银行"},{value:"0158",label:"北京农村商业银行"},{value:"0162",label:"重庆农村商业银行"},{value:"0163",label:"广州农村商业银行"},{value:"0166",label:"上海农村商业银行"},{value:"0167",label:"天津农村商业银行"},{value:"0220",label:"成都农村商业银行"},{value:"0222",label:"深圳农村商业银行"}]}},a.prototype.paymentStatus=function(e,t){var a={},o="";return t?(o="acceptOrder/getPayStatus",a.ao_id=e.ao_id):(o="Pay/Status",a.order_id=e.order_id),mainService.ajax({url:o,data:a})},a.prototype.parseInstallment=function(t){var a=this,o=[];return e.each(a.type.installment,function(a,i){var n=t*(1+i.fee/100);o.push(e.extend({},i,{total:n,single:n/i.period,poundage:t*i.monthFee/100}))}),o},a.prototype.canWeixinCheck=function(){return mainService.ajax({url:"Wechat/GetOpenId"})},a.prototype.createInWechat=function(e){var t=this,a={order_id:e.order_id,pay_type:t.getPayType(e)};return mainService.ajax({url:"Pay/CreateInWechat",data:a})},a.prototype.loopWeixin=function(e){var t=this,a=t.getPayType(e);return mainService.ajax({url:"Pay/QRCPayResult",data:{order_id:e.order_id,pay_type:a}})},a.prototype.weixinPaymentCode=function(e){var a=this.getPayType(e);return t.config.paymentCode.weixin+"&order_id="+e.order_id+"&pay_type="+a+"&"+ +new Date},a.prototype.getPayType=function(e){return 1==e.pay_type&&e.pay_status<1?1:2},a.prototype.doPayment=function(a){var o,i,n=e.extend({},a),r=/^(\d)\_(\d+)$/,s=n.pay_channel_type+"",c=s.match(r);c&&(s=c[1],4==s?i=c[2]:o=c[2]);var l=this.getPayType(n);o=o?"&bank="+o:"",i=i?"&ped_cnt="+i:"";var u=i?i:o;window.open(a.isSupport?t.config.paymentUrl+"acceptOrderPay&ao_id="+n.ao_id+"&pay_channel_type="+s+u:t.config.paymentUrl+"Pay/Create&order_id="+n.order_id+"&pay_type="+l+"&pay_channel_type="+s+u)},new a}(jQuery,window.Store)),window.Store.addService("OrderParse",function(e,t){function a(){var e=this;e.CartService=null,e.MobileGoodsService=null,e.OrderProcessService=null}return a.prototype.init=function(){var e=this;e.CartService=t.getService("Cart"),e.MobileGoodsService=t.getService("MobileGoods"),e.OrderProcessService=t.getService("OrderProcess")},a.prototype.parseOrderList=function(a){var o=this,i=[],n=!1;t.isArray(a)?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);c.id=c.order_id,c.distribution_status=0|c.distribution_status,c.status=0|c.status,c.pay_type=0|c.pay_type,c.pay_status=0|c.pay_status,c.discount_amount=0|c.discount_amount,c.virtual_amount=0|c.virtual_amount,28==c.status&&(c.status=20),3==c.status&&(c.status=4),1==c.status&&c.now_time-c.create_time>86400&&(c.status=24),c.orderDiscount=0,c.orderDiscount=c.virtual_amount+c.discount_amount,c.useOrderDiscount=0!=c.orderDiscount,c.payComplete=2==c.pay_status,c.orderRealTotal=t.filter.rmbCount(c.order_amount,c.orderDiscount),c.isDeliver=c.status<20&&4==c.distribution_status,c.isCancel=24==c.status||32==c.status;var l=o.parseGoods(c.goods,c);switch(c.carts=l.carts,c.isMobileOrder=l.isMobileOrder,c.paymentLabel=null,c.statusLabel=null,c.useCountdown=!1,c.useInstallment=!1,c.status){case 1:c.paymentLabel="现在付款",c.useInstallment=c.isMobileOrder&&2==c.pay_type&&t.config.useInstallment;break;case 2:c.paymentLabel="补齐余款",c.useInstallment=t.config.useInstallment;break;case 4:c.statusLabel="待配货";break;case 6:c.statusLabel="配货中";break;case 8:c.statusLabel="配货中";break;case 12:c.statusLabel="配货中";break;case 16:c.statusLabel="待签收";break;case 20:c.statusLabel=0==c.refund_status?"退款审核中":"正在退款";break;case 24:c.statusLabel="已关闭";break;case 32:c.statusLabel="已完成"}i.push(c)}return n?i:i[0]},a.prototype.parseGoods=function(a,o){var i=this,n=[].concat(a),r=i.MobileGoodsService.mapCovers,s=i.MobileGoodsService.mapHeadset,c={},l=!1,u={isMobileOrder:!1,isWarrantyOrder:!0,carts:[],cartTotal:0};return e.each(n,function(a,n){var d={pid:0|n.pgoods_id,id:n.goods_id,sku:n.goods_id,price:n.goods_price,num:n.goods_nums,subtotal:n.goods_price*n.goods_nums,isMobile:1==n.is_mobile||!!i.MobileGoodsService.mapPhones[n.goods_id],isWarranty:1==n.is_insurance||!!i.MobileGoodsService.mapWarrantys[n.goods_id],canSupport:32==o.status&&2!=o.order_type};n.imei&&(d.imei=n.imei),u.cartTotal+=d.price*d.num;var p={};if(d.isMobile)switch(p=e.extend({},i.MobileGoodsService.mapPhones[d.sku]),u.isMobileOrder=!0,u.isWarrantyOrder=!1,d.category=p.category,u.presaleAmount=p.presaleAmount,d.image=t.filter.retinaImage(p.img,!0),p.category){case"t1":d.link="normal"==p.version?t.config.storeUrl+"t1":t.config.storeUrl+"t1/defect";break;case"t2":d.link=t.config.webUrl+"t2";break;case"nuts":d.link=t.config.webUrl+"jianguo";break;default:d.link="normal"==p.version?t.config.storeUrl+"t1":t.config.storeUrl+"t1/defect"}else if(d.isWarranty)p=e.extend({},i.MobileGoodsService.mapWarrantys[d.sku]),d.canSupport=d.canSupport&&"safety1"!=p.postName,d.postName=p.postName,d.image=t.filter.retinaImage(p.img,!0),d.category=p.category,d.link="";else{u.isWarrantyOrder=!1,p=n.goods_info||{};var m=r[d.sku],g=s[d.sku];d.image=m?t.filter.retinaImage(m.img,!0):g?t.filter.retinaImage(g.img,!0):t.filter.realImage(p.img,80),d.link=t.config.webUrl+"item/"+d.sku,0==d.price&&(d.canSupport=!1),l||(d.isDivider=!0,l=!0)}d.name=p.goods_name||p.name,!t.isArray(c[d.pid])&&(c[d.pid]=[]),d.isMobile?c[d.pid].unshift(d):c[d.pid].push(d)}),u.carts=i.parseGoodsTree(c[0],c,u.carts),u},a.prototype.parseGoodsTree=function(a,o,i){var n=this,r=[];return t.isArray(a)?(e.each(a,function(e,t){r.push(t),o[t.sku]&&(r=r.concat(n.parseGoodsTree(o[t.sku],o,r)))}),r):r},a.prototype.parseSimpleOrder=function(a){var o=this,i=[],n=!1;a&&a.constructor==Array?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);c.id=c.order_id,c.source==c.source|0,c.status=0|c.status,c.pay_type=0|c.pay_type,c.pay_status=0|c.pay_status,c.discount_amount=0|c.discount_amount,c.virtual_amount=0|c.virtual_amount,c.province_code=0|c.province_code,c.city_code=0|c.city_code,c.district_code=0|c.district_code,c.isRushOrder=40==c.source,c.cancelCountdown=86400,c.lastPaymentTime="24 小时",28==c.status&&(c.status=20),3==c.status&&(c.status=4),c.orderDiscount=0,c.useCashCdkey=!1,c.discountCashCdkey=0,c.orderDiscount=c.virtual_amount+c.discount_amount,c.useOrderDiscount=0!=c.orderDiscount,c.remainingAmount=(100*c.order_amount-100*c.real_amount)/100,c.isPreorder=2==c.category,c.payComplete=2==c.pay_status,c.orderRealTotal=t.filter.rmbCount(c.order_amount,c.orderDiscount),c.isClose=24==c.status||32==c.status,c.isFinish=32==c.status,c.goods=[],e.each(c.goods_codes,function(e,t){c.goods.push({goods_id:t})});var l=o.parseGoods(c.goods,c);c.carts=l.carts,c.isMobileOrder=l.isMobileOrder,c.isWarrantyOrder=l.isWarrantyOrder,c.cartTotal=l.cartTotal,c.useInstallment=c.isMobileOrder&&2==c.pay_type&&t.config.useInstallment,c.deliveryTime=" 72 小时内",c.addressForm={accept_name:c.accept_name,mobile:c.mobile,area_code:c.area_code,telephone:c.telephone,province:c.province_name,province_code:c.province_code,city:c.city_name,city_code:c.city_code,district:c.district_name,district_code:c.district_code,street:c.street},i.push(c)}return n?i:i[0]},a.prototype.parseOrder=function(a){var o=this,i=[],n=!1;a&&a.constructor==Array?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);c.id=c.order_id,c.distribution_status=0|c.distribution_status,c.source==c.source|0,c.is_fcode=0|c.is_fcode,c.status=0|c.status,c.pay_type=0|c.pay_type,c.pay_status=0|c.pay_status,c.bank=(c.bank+"").length>1?c.bank:0,c.ped_cnt=0|c.ped_cnt,c.postage_price=0|c.postage_price,c.discount_amount=0|c.discount_amount,c.virtual_amount=0|c.virtual_amount,c.province_code=0|c.province_code,c.city_code=0|c.city_code,c.district_code=0|c.district_code,c.isRushOrder=!1,c.cancelCountdown=86400,c.lastPaymentTime="24 小时",28==c.status&&(c.status=20),3==c.status&&(c.status=4),2!=c.deliver_model&&1==c.status&&c.now_time-c.create_time>c.cancelCountdown&&(c.status=24),c.orderDiscount=0,c.useCashCdkey=!1,c.discountCashCdkey=0,c.useMobileCdkey=!1,c.discountMobileCdkey=0,c.discount&&e.each(c.discount,function(e,t){1==t.discount_type&&(c.useCashCdkey=!0,c.discountCashCdkey=t.discount_value-0+c.discountCashCdkey),2==t.discount_type&&(c.useMobileCdkey=!0,c.discountMobileCdkey=t.discount_value-0+c.discountMobileCdkey)}),c.orderDiscount=c.virtual_amount+c.discount_amount,c.useOrderDiscount=0!=c.orderDiscount,c.remainingAmount=(100*c.order_amount-100*c.real_amount)/100,c.hasPostage=0!=c.postage_price,c.isPreorder=2==c.category,c.payComplete=2==c.pay_status,c.orderRealTotal=t.filter.rmbCount(c.order_amount,c.orderDiscount),c.canUpdate=c.status<6&&c.distribution_status<3&&4!=c.order_type,c.canCancel=c.status<=4,c.isDeliver=c.status<20&&4==c.distribution_status,c.isClose=24==c.status||32==c.status,c.isFinish=32==c.status,c.canSupport=32==c.status,c.canWarranty=!1,c.useTotalSuffix=c.useOrderDiscount||c.hasPostage;var l=c.bank||c.ped_cnt;l&&(c.pay_channel_type=c.pay_channel_type+"_"+l);var u=o.parseGoods(c.goods,c);switch(c.carts=u.carts,c.isMobileOrder=u.isMobileOrder,c.isWarrantyOrder=u.isWarrantyOrder,c.cartTotal=u.cartTotal,c.canUpdateAddress=c.canUpdate&&!c.isRushOrder&&!c.isWarrantyOrder,c.processType=c.status<20||32==c.status?1==c.pay_type?"preOrder":"normalOrder":c.pay_status>0?"refundOrder":"cancelOrder",c.processCurrent=1,c.processType){case"cancelOrder":24==c.status&&(c.processCurrent=2);break;case"refundOrder":c.processCurrent=24==c.status?5:0==c.refund_status?3:4;break;default:c.distribution_status<3?(c.processCurrent=c.distribution_status+1,"normalOrder"==c.processType&&2==c.distribution_status&&(c.processCurrent=2)):c.processCurrent="normalOrder"==c.processType?c.distribution_status:c.distribution_status+1}switch(c.processStatus=t.isFunction(o.OrderProcessService.getProcessStatus)&&o.OrderProcessService.getProcessStatus(c,c.processCurrent-1).label,c.paymentLabel=null,c.tipsLabel=null,c.useCountdown=!1,c.cancelLabel="取消订单",c.status){case 1:2!=c.deliver_model&&(c.useCountdown=!0),c.deliveryTime=" 72 小时内",c.realTime=t.filter.realtime(c.create_time-0+c.cancelCountdown-c.now_time),c.paymentLabel="现在付款",c.isMobileOrder&&1==c.pay_type?(c.presaleAmount=u.presaleAmount,c.statusLabel="待付预付款，应付金额 "+t.filter.rmb(u.presaleAmount,!0)):c.statusLabel="待付款，应付金额 "+t.filter.rmb(c.orderRealTotal,!0),c.useInstallment=c.isMobileOrder&&2==c.pay_type&&t.config.useInstallment;break;case 2:c.paymentLabel="补齐余款",c.statusLabel="待付余款，应付金额 "+t.filter.rmb(c.remainingAmount,!0),c.statusDetail="在为此订单配货前，系统将发短信和邮件提示您补齐余款。",c.useInstallment=t.config.useInstallment;break;case 4:c.tipsLabel="待配货",c.statusLabel="待配货",c.statusDetail="您的订单已付款，我们将尽快为您配货。";break;case 6:c.tipsLabel="待出库",c.statusLabel="待出库",c.statusDetail="您的订单已配货，我们将尽快为您发货。";break;case 8:c.tipsLabel="待出库",c.statusLabel="待出库",c.statusDetail="您的订单已配货，我们将尽快为您发货。";break;case 12:c.tipsLabel="待出库",c.statusLabel="待出库",c.statusDetail="您的订单已配货，我们将尽快为您发货。";break;case 16:c.tipsLabel="待签收",c.statusLabel="待签收",c.statusDetail="您的订单已出库，请注意签收。";break;case 20:0==c.refund_status?(c.tipsLabel="退款审核中",c.statusLabel="退款审核中",c.statusDetail="您已提交退款要求，我们正在审核您的退款单。"):(c.tipsLabel="退款中",c.statusLabel="退款中",c.statusDetail="您的退款要求已经审核完成，我们正在为您退款。");break;case 24:c.real_amount>0?(c.tipsLabel="订单关闭",c.statusLabel="退款完成",c.statusDetail="您的退款已完成。"):(c.tipsLabel="已关闭",c.statusLabel="订单关闭",c.statusDetail="您的订单已关闭。");break;case 32:c.tipsLabel="已完成",c.statusLabel="已完成",c.statusDetail="您的订单已完成，感谢您在锤子科技购物。"}c.addressForm={accept_name:c.accept_name,mobile:c.mobile,area_code:c.area_code,telephone:c.telephone,province:c.province_name,province_code:c.province_code,city:c.city_name,city_code:c.city_code,district:c.district_name,district_code:c.district_code,street:c.street},c.invoiceForm={invoice_style:c.invoice_style,invoice_type:c.invoice_type,invoice_title:c.invoice_title,category:0==c.invoice_style?"普通发票":"电子发票",detail:0==c.invoice_type?"个人":c.invoice_title},t.isArray(c.invoice)&&e.each(c.invoice,function(e,t){t.info=t.info||{}}),i.push(c)}return n?i:i[0]},a.prototype.parseSupportList=function(a){var o=this,i=[],n=!1;t.isArray(a)?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);if(c.status=0|c.status,c.type=0|c.type,c.service_mode=0|c.service_mode,c.nav_status=0|c.nav_status,c.postage_type=0|c.postage_type,c.postage_status=0|c.postage_status,c.id=c.ao_id,t.config.useOnSite)switch(c.service_mode){case 1:c.serviceType=1;break;case 2:c.serviceType=1;break;case 3:c.serviceType=2,(c.status>1&&c.status<8||c.status>11&&c.status<=14)&&(c.status=14);break;case 4:c.serviceType=3,14==c.status&&(c.status=2);break;default:c.serviceType=1}else c.serviceType=1;11==c.status&&(c.status=10),13==c.status&&(c.status=10),12==c.status&&(c.status=2),15==c.status&&(c.status=0),c.isSupport=!0,c.isReady=c.status<5,c.isAction=5==c.status||6==c.status||14==c.status,c.isCancel=8==c.status,c.isFinish=9==c.status,c.isClose=10==c.status,(5==c.status||7==c.status)&&(c.status=2),c.usePayment=!1,c.usePostage=!1,c.useOperation=!1,3==c.status&&3==c.nav_status&&(c.usePayment=!0),c.isFinish&&1==c.postage_type&&0==c.postage_status&&c.postage_price>0&&(c.usePostage=!0),c.useOperation=c.usePayment||c.usePostage,c.isComplete=c.isCancel||c.isClose||c.isFinish&&!c.usePostage,c.showInvoice=!1;var l=o.parseGoods(c.goods,c);switch(c.carts=l.carts,c.isMobileOrder=l.isMobileOrder,c.type){case 1:c.typeLabel="退货",c.isBackSupport=!0;break;case 2:c.typeLabel="换货";break;case 3:c.typeLabel="维修"}switch(c.status){case 0:c.orderStatusIconLabel="已提交";break;case 1:c.orderStatusIconLabel="已审核";break;case 2:c.orderStatusIconLabel="已收货";break;case 3:c.orderStatusIconLabel="待支付";break;case 4:c.orderStatusIconLabel="维修中";break;case 6:c.orderStatusIconLabel="已发货";break;case 8:c.orderStatusIconLabel="已取消";break;case 9:c.orderStatusIconLabel="已完成";break;case 10:c.orderStatusIconLabel="已关闭";break;case 14:c.orderStatusIconLabel="服务中"}i.push(c)}return n?i:i[0]},a.prototype.parseSupport=function(a){var o=this,i=[],n=!1;a&&a.constructor==Array?n=!0:a=[a];for(var r=0,s=a.length;s>r;r++){var c=e.extend({},a[r]);if(c.status=0|c.status,c.type=0|c.type,c.service_mode=0|c.service_mode,c.nav_status=0|c.nav_status,c.postage_type=0|c.postage_type,c.postage_status=0|c.postage_status,11==c.status&&(c.status=10),13==c.status&&(c.status=10),12==c.status&&(c.status=2),15==c.status&&(c.status=0),c.id=c.ao_id,t.config.useOnSite)switch(c.service_mode){case 1:c.serviceType=1;break;case 2:c.serviceType=1;break;case 3:c.serviceType=2,(c.status>1&&c.status<8||c.status>11&&c.status<=14)&&(c.status=14);break;case 4:c.serviceType=3,14==c.status&&(c.status=2);break;default:c.serviceType=1}else c.serviceType=1;c.invoice_style=c.invoice_style||(t.config.useWebInvoice?"2":"0"),c.invoice_type=c.invoice_type||"0",c.invoice_title=c.invoice_title||"",c.isSupport=!0,c.isReady=c.status<5,c.isAction=5==c.status||6==c.status||14==c.status,c.isCancel=8==c.status,c.isFinish=9==c.status,c.isClose=10==c.status,(5==c.status||7==c.status)&&(c.status=2),c.useCancel=!1,c.usePayment=!1,c.usePostage=!1,c.useOperation=!1,0==c.status&&(c.useCancel=!0),3==c.status&&3==c.nav_status&&(c.usePayment=!0),c.isFinish&&1==c.postage_type&&0==c.postage_status&&c.postage_price>0&&(c.usePostage=!0),c.useOperation=c.useCancel||c.usePayment||c.usePostage,c.isComplete=c.isCancel||c.isClose||c.isFinish&&!c.usePostage,c.showInvoice=!1;var l=o.parseGoods(c.goods,c);switch(c.carts=l.carts,c.isMobileOrder=l.isMobileOrder,c.type){case 1:c.processType="normalBack",c.typeLabel="退货",c.isBackSupport=!0;break;case 2:c.processType="normalSupport",c.typeLabel="换货";break;case 3:c.nav_status>2&&c.repair_price>0?(c.showInvoice=!0,c.processType="paymentRepair"):c.processType="normalSupport",c.typeLabel="维修"}switch(c.serviceType){case 2:c.processType="onSiteRepair";break;case 3:3==c.type&&c.nav_status>2&&c.repair_price>0?(c.showInvoice=!0,c.processType="onSitePaymentRepair"):c.processType="onSiteDeliver"}switch(c.isCancel&&(c.processType="cancelSupport"),c.isClose&&(c.processType=c.nav_status>1?"closeAbnormalSupport":"closeSupport"),c.processCurrent=1,c.processCurrent=c.status+1,c.processType){case"normalBack":c.processCurrent=c.isFinish?4:c.status+1;break;case"normalSupport":c.isFinish?c.processCurrent=5:(c.processCurrent=6==c.status?4:c.status+1,3==c.type&&4==c.status&&(c.processCurrent=3));break;case"paymentRepair":c.processCurrent=c.isFinish?6:c.nav_status>2?6==c.status?5:4:c.status+1;break;case"onSiteRepair":c.processCurrent=c.isFinish?4:14==c.status?3:c.status+1;break;case"onSiteDeliver":c.processCurrent=c.isFinish?5:6==c.status?4:c.status+1;break;case"onSitePaymentRepair":c.processCurrent=c.isFinish?6:c.nav_status>2?6==c.status?5:4:c.status+1;break;case"cancelSupport":c.processCurrent=2;break;case"closeSupport":c.processCurrent=2;break;case"closeAbnormalSupport":c.processCurrent=4}var u=c.desciption.split("#|#|#");switch(c.desciptionDetail=u.pop(),c.desciptionProd=u.join(""),c.statusDetail=null,c.isCheck=null,c.isDeliver=null,c.status){case 0:c.orderStatusLabel="已提交服务单，等待系统审核",c.orderStatusIconLabel="已提交",c.statusDetail="系统将在 2 个工作日内完成审核。";break;case 1:c.orderStatusLabel=1==c.serviceType?"审核通过，请在 3 日内邮寄商品":"审核通过，等待预约上门时间",c.orderStatusIconLabel="已审核",c.isCheck=!0;break;case 2:c.orderStatusLabel=1==c.serviceType?"已收到邮寄":"已收货",c.orderStatusIconLabel="已收货",c.statusDetail="已收货，正在处理中。";break;case 3:c.orderStatusLabel="检测完成，已确定维修报价，待支付",c.orderStatusIconLabel="待支付",c.statusDetail="维修检测已完成，根据产品的状况，预计维修需要 "+t.filter.rmb(c.repair_price,!0)+"。如需维修，请点击支付。";break;case 4:c.orderStatusLabel=c.repair_price>0?"已支付维修费用，":"",c.orderStatusLabel+="正在维修中",c.orderStatusIconLabel="维修中",c.statusDetail="正在维修中，请耐心等待维修结果。";break;case 6:c.orderStatusLabel="已发货",c.orderStatusIconLabel="已发货",c.isDeliver=!0;break;case 8:c.orderStatusLabel="已取消本次售后服务",c.orderStatusIconLabel="已取消",c.statusDetail="已取消本次售后服务。";break;case 9:c.orderStatusLabel="已完成售后",c.orderStatusIconLabel="已完成",c.statusDetail="当前售后服务单已完成。";break;case 10:c.orderStatusLabel="已关闭本次售后服务",c.orderStatusIconLabel="已关闭",c.statusDetail="已关闭本次售后服务。";break;case 14:c.orderStatusLabel="服务中",c.orderStatusIconLabel="服务中",c.statusDetail="售后人员正在处理中。"}c.invoiceForm={invoice_style:c.invoice_style,invoice_type:c.invoice_type,invoice_title:c.invoice_title,category:c.invoice_style&&2==c.invoice_style?"电子发票":"普通发票",detail:0==c.invoice_type?"个人":c.invoice_title},i.push(c)}return n?i:i[0]},a.prototype.parseSupportConfirm=function(t){var a=this,o=e.extend({},t),i=a.parseGoods(o.goods,{}),n=[];return o.is_mobile=o.isMobileOrder=i.isMobileOrder,n=[].concat(i.carts.shift()),i.carts.length&&(n[0].children=i.carts),o.carts=n,o.back=0|o.back,o.exchange=0|o.exchange,o.repair=0|o.repair,o.num=1,o.max=o.max_goods_nums||1,o.deliver_time=0|o.deliver_time,o.chooseType=o.back?"back":o.exchange?"exchange":o.repair?"repair":"",o},a.prototype.createImeiCache=function(e){var t=[],a="",o=1==e.back?"c":"n",i=1==e.exchange?"c":"n",n=1==e.repair?"c":"n",r=e.warranty&&1==e.warranty?"c":"n";return t.push(o),t.push(i),t.push(n),t.push(r),t.push(e.goods_id),t.push(e.order_id),t.push(e.imei),t.push(e.new_imei),a=t.join(",")},a.prototype.returnImeiCache=function(t){var a=[],o=[],i={};a=t.split(","),i.back="c"==a[0]?1:0,i.exchange="c"==a[1]?1:0,i.repair="c"==a[2]?1:0,i.warranty="c"==a[3]?1:0;var n=a[4];return o.push(e.extend({},{goods_id:n,is_mobile:1,goods_nums:1})),i.goods=o,i.order_id=a[5],i.imei=a[6],i.new_imei=a[7],i},new a}(window.jQuery||window.Zepto,window.Store)),window.Store.addService("OrderProcess",function(e,t){function a(){}return a.prototype.init=function(){},a.prototype.getProcess=function(t){var t=e.extend({nav_status_time:{}},t),a={normalOrder:{step:5,process:[{label:"下单",time:t.create_time},{label:"付款",time:t.pay_time},{label:"配货",time:t.distribution_time},{label:"出库",time:t.deliver_time},{label:"交易成功",time:t.end_time}]},preOrder:{step:6,process:[{label:"下单",time:t.create_time},{label:"付预付款",time:t.pre_pay_time},{label:"付余款",time:t.pay_time},{label:"配货",time:t.distribution_time},{label:"出库",time:t.deliver_time},{label:"交易成功",time:t.end_time}]},refundOrder:{step:5,process:[{label:"下单",time:t.create_time},{label:"付款"},{label:"提交退款要求",time:t.cancel_time},{label:"退款处理",time:t.audit_completed_time},{label:"退款完成",time:t.end_time}]},cancelOrder:{step:2,process:[{label:"下单",time:t.create_time},{label:"订单关闭",time:t.end_time}]},completeOrder:{step:2,process:[{label:"下单",time:t.create_time},{label:"交易成功",time:t.end_time}]},normalBack:{step:4,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"客服审核",time:t.nav_status_time.wait_customer},{label:"已收货",time:t.nav_status_time.test},{label:"完成",time:t.nav_status_time.done}]},normalSupport:{step:5,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"客服审核",time:t.nav_status_time.wait_customer},{label:"已收货",time:t.nav_status_time.test},{label:"已发货",time:t.nav_status_time.send},{label:"完成",time:t.nav_status_time.done}]},paymentRepair:{step:6,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"客服审核",time:t.nav_status_time.wait_customer},{label:"已收货",time:t.nav_status_time.test},{label:"维修报价",time:t.nav_status_time.pay_ok||t.nav_status_time.no_pay},{label:"已发货",time:t.nav_status_time.send},{label:"完成",time:t.nav_status_time.done}]},cancelSupport:{step:2,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"已取消",time:t.nav_status_time.cancel}]},closeSupport:{step:2,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"已关闭",time:t.nav_status_time.cancel_cs}]},closeAbnormalSupport:{step:4,process:[{label:"提交要求",time:t.nav_status_time.wait_audit},{label:"客服审核",time:t.nav_status_time.wait_customer},{label:"已收货",time:t.nav_status_time.test},{label:"已关闭",time:t.nav_status_time.cancel_cs}]}};return a[t.processType]},a.prototype.getProcessStatus=function(e,t){var a=this;return a.getProcess(e).process[t]},new a}(jQuery,window.Store)),window.Store.addService("Address",function(e,t){function a(){var e=this;e.provinceList=null,e.cityList={},e.districtList={},e.AddressModel=null,e.AddressCollection=null}return a.prototype.init=function(){var e=this;e.cityList[0]=e.parseAreaData([],"city"),e.districtList[0]=e.parseAreaData([],"district"),e.AddressModel=t.getModel("Address")},a.prototype.getList=function(){var e=this;return mainService.ajax({url:"Address/GetList",success:function(a){return e.AddressModel.set(a),e.AddressCollection=t.getCollection("AddressItem",a.list),a}})},a.prototype.getAllProvince=function(){var e=this;return e.provinceList?t.proxyDefer(e.provinceList):mainService.ajax({url:"Areas/Province",success:function(t){return e.provinceList=e.parseAreaData(t,"province"),e.provinceList}})},a.prototype.getCity=function(e){var a=this;return a.cityList[e]?t.proxyDefer(a.cityList[e]):mainService.ajax({url:"Areas/City",data:{province_id:e},success:function(t){return a.cityList[e]=a.parseAreaData(t,"city"),a.cityList[e]}})},a.prototype.getDistrict=function(e){var a=this;return a.districtList[e]?t.proxyDefer(a.districtList[e]):mainService.ajax({url:"Areas/Area",data:{city_id:e},success:function(t){return a.districtList[e]=a.parseAreaData(t,"district"),a.districtList[e]}})},a.prototype.addAddress=function(t){var a=this;return mainService.ajax({url:"Address/Add",data:t,success:function(t){var o=a.AddressCollection.where({"default":1},!0);1==t["default"]&&o&&o.set({"default":0}),a.AddressCollection.push(e.extend({},t))}})},a.prototype.removeAddress=function(e){var t=this;return mainService.ajax({url:"Address/Delete",data:{id:e},success:function(a){t.AddressCollection.remove(t.AddressCollection.get({id:e}))}})},a.prototype.updateAddress=function(t){var a=this;return t["default"]=1==t["default"]?1:0,mainService.ajax({url:"Address/Update",data:t,success:function(o){var i=a.AddressCollection.where({"default":1},!0),n=a.AddressCollection.get({id:t.id});i&&i.set({"default":0}),n.set(e.extend(n.toJSON(),t,o))}})},a.prototype.setDefault=function(e){var t=this;return mainService.ajax({url:"Address/SetDefault",data:{id:e},success:function(a){var o=t.AddressCollection.where({"default":1},!0),i=t.AddressCollection.get({id:e});o&&o.set({"default":0}),i.set({"default":1})}})},a.prototype.parseAreaData=function(t,a){var o=[];switch(a){case"province":o.push({value:"0",label:"请选择省份"});break;case"city":o.push({value:"0",label:"请选择城市"});break;case"district":o.push({value:"0",label:"请选择区县"})}return e.each(t,function(e,t){o.push({value:t.area_id,label:t.area_name})}),"district"==a&&o.push({value:"999999",label:"其他"}),o},new a}(jQuery,window.Store)),window.Store.addModel("Address",function(){return Backbone.Model.extend({defaults:{},initialize:function(){}})},!0),window.Store.addModel("AddressForm",function(){return Backbone.Model.extend({defaults:{accept_name:"",mobile:"",telephone:"",province_code:"0",city_code:"0",district_code:"0",street:"","default":"0",area_code:""}})}),window.Store.addView("AddressArea",function(){return Backbone.View.extend({initialize:function(e){{var t=this;t.$el}t.addressService=Store.getService("Address"),t.initCity=!0,t.initDistrict=!0,t.useWarning=e.useWarning,t.doWarning=e.doWarning||function(){},t.curAddress=new(Store.getModel("AddressForm")),t.dialogAddressWarning=new(Store.getView("AddressWarningDialog")),t.model&&t.curAddress.set(t.model.toJSON()),t.getProvinceList=t.addressService.getAllProvince()},events:{"change .province":"changeProvince","change .city":"changeCity","change .district":"changeDistrict"},render:function(){{var e=this;e.$el}return e.getProvinceList.done(function(t){e.renderProvince(t);var a=e.curAddress.get("province_code");e.selectProvince(a)}),e},selectProvince:function(e){var t=this,a=t.$(".province");a.val(e),t.addressService.getCity(e).done(function(e){t.renderCity(e);var a="0";t.initCity&&(t.initCity=!1,a=t.curAddress.get("city_code")),t.selectCity(a)})},selectCity:function(e){var t=this,a=this.$(".city");!Store.config.cityWhiteMap[e]&&t.useWarning&&t.doWarning()&&t.dialogAddressWarning.render(),a.val(e),t.addressService.getDistrict(e).done(function(e){t.renderDistrict(e);var a="0";t.initDistrict&&(t.initDistrict=!1,a=t.curAddress.get("district_code")),t.selectDistrict(a)})},selectDistrict:function(e,t){
var a=this,t=t||e;a.$el.find(".district").val(t)},changeProvince:function(e){var t=$(e.target).val();this.selectProvince(t)},changeCity:function(e){var t=$(e.target).val();this.selectCity(t)},changeDistrict:function(e){var t=$(e.target).val();this.selectDistrict(t)},renderProvince:function(e){var t=this.$el.find(".province").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)},renderCity:function(e){var t=this.$el.find(".city").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)},renderDistrict:function(e){var t=this.$el.find(".district").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)}})}),window.Store.addView("AddressForm",function(){return Backbone.View.extend({initialize:function(e){{var t=this;t.$el}t.verifyPlugin=Store.getPlugin("Verify"),t.uiPlugin=Store.getPlugin("UI"),t.addressService=Store.getService("Address"),t.initCity=!0,t.initDistrict=!0,t.button=e.button,t.useBtn=e.useBtn,t.removeDefault=e.removeDefault,t.useVerify=e.useVerify,t.useWarning=e.useWarning,t.doWarning=e.doWarning,t.done=e.done,t.curAddress=new(Store.getModel("AddressForm")),t.dialogAddressWarning=new(Store.getView("AddressWarningDialog")),t.model&&t.curAddress.set(t.model.toJSON()),t.getProvinceList=t.addressService.getAllProvince(),t.formTpl=null,t.getHtml=ct.get("address-form").then(function(e){return t.formTpl=e,e}),t.promise=$.Deferred()},events:{"change .province":"changeProvince","change .city":"changeCity","change .district":"changeDistrict"},render:function(){var e=this,t=e.$el;return e.getHtml.then(function(a){if(t.html(ct.compile(a,$.extend({},e.curAddress.toJSON(),{useBtn:e.useBtn,removeDefault:e.removeDefault}))),!t.data("inited")){if(e.useVerify?e.verifyPlugin.bindVerify({wrapper:t,verifyDom:".js-verify",button:e.useBtn?e.$(".blue-main-btn"):e.button,success:function(a){var o=t.find(".js-address-area-code").val(),i=t.find(".js-address-telephone").val();if(o!=i&&(""==o||""==i))return""==o&&a.thrown(t.find(".js-address-area-code"),"必填",!0),""==i&&a.thrown(t.find(".js-address-telephone"),"必填",!0),!1;var n=Store.getData(t);n.province=t.find('[name="province_code"]').children("option:selected").text(),n.city=t.find('[name="city_code"]').children("option:selected").text(),n.district=t.find('[name="district_code"]').children("option:selected").text(),n.district="其他"==n.district?"":n.district,"function"==typeof e.done&&e.done(n,a)}}):e.verifyPlugin.usePlaceholder(t),!e.removeDefault){var o={wrapper:t,name:"default"};1==e.curAddress.toJSON()["default"]&&(o.checked="1"),e.uiPlugin.checkbox(o)}t.data("inited",!0)}e.curAddress.hasChanged()&&t.find("input").trigger("blur")}).done(function(){e.getProvinceList.done(function(t){e.renderProvince(t);var a=e.curAddress.get("province_code");e.selectProvince(a)})}),e},selectProvince:function(e){var t=this,a=t.$(".province");t.getHtml.done(function(){a.val(e),t.addressService.getCity(e).done(function(e){t.renderCity(e);var a="0";t.initCity&&(t.initCity=!1,a=t.curAddress.get("city_code")),t.selectCity(a)})})},resetForm:function(e){var t=this,a=t.$el;t.curAddress=Store.isObject(e)&&Store.isFunction(e.toJSON)?e:new(Store.getModel("AddressForm"))(e),t.initCity=!0,t.initDistrict=!0,t.getHtml.done(function(){a.html(ct.compile(t.formTpl,$.extend({},t.curAddress.toJSON(),{useBtn:t.useBtn,removeDefault:t.removeDefault}))),t.verifyPlugin.usePlaceholder(a),a.find("input").trigger("blur"),t.getProvinceList.done(function(e){t.renderProvince(e);var a=t.curAddress.get("province_code");!t.initCity&&(t.initCity=!0),!t.initDistrict&&(t.initDistrict=!0),t.selectProvince(a)})})},getFormData:function(){var e=this,t=e.$el,a=Store.getData(t);return a.province=t.find('[name="province_code"]').children("option:selected").text(),a.city=t.find('[name="city_code"]').children("option:selected").text(),a.district=t.find('[name="district_code"]').children("option:selected").text(),a.district="其他"==a.district?"":a.district,a.province_name=a.province,a.city_name=a.city,a.district_name=a.district,a},selectCity:function(e){var t=this,a=this.$(".city");!Store.config.isMobile&&!Store.config.cityWhiteMap[e]&&t.useWarning&&t.doWarning(),t.getHtml.done(function(){a.val(e),t.addressService.getDistrict(e).done(function(e){t.renderDistrict(e);var a="0";t.initDistrict&&(t.initDistrict=!1,a=t.curAddress.get("district_code")),t.selectDistrict(a),t.promise.resolve()})})},selectDistrict:function(e,t){var a=this,t=t||e;a.getHtml.done(function(){a.$el.find(".district").val(t)})},changeProvince:function(e){var t=$(e.target).val();this.selectProvince(t)},changeCity:function(e){var t=$(e.target).val();this.selectCity(t)},changeDistrict:function(e){var t=$(e.target).val();this.selectDistrict(t)},renderProvince:function(e){var t=this.$el.find(".province").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)},renderCity:function(e){var t=this.$el.find(".city").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)},renderDistrict:function(e){var t=this.$el.find(".district").empty(),a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)}})}),window.Store.addCollection("AddressItem",function(){return Backbone.Collection.extend({model:Store.getModel("AddressForm")})},!0),window.Store.addView("AddressItem",function(){return Backbone.View.extend({})}),window.Store.addView("ChooseWarranty",function(){return Backbone.View.extend({initialize:function(e){{var t=this;t.$el}t.uiPlugin=Store.getPlugin("UI"),t.MobileGoodsService=Store.getService("MobileGoods"),t.getHtml=ct.get("choose-warranty"),t.chooseWarranty=null,t.callback=e.callback},events:{"click .js-select-warranty":"checkCheckbox"},render:function(e){var t=this,a=t.$el,o=[];if(e.warrantys=[],e.mobileData)switch(e.mobileData.category){case"t1":o=t.MobileGoodsService.listWarrantysT1;break;case"t2":o=t.MobileGoodsService.listWarrantysT2;break;case"nuts":o=t.MobileGoodsService.listWarrantysNuts;break;default:o=t.MobileGoodsService.listWarrantysT1}else o=t.MobileGoodsService.listWarrantysT1;return $.each(o,function(t,a){var o=$.extend({},a);"safety1"==o.postName?(o.canBuy=1==e.accident.is_buy,o.isHave=0==e.accident.is_buy,o.date=e.accident.date):(o.canBuy=1==e.delay.is_buy,o.isHave=0==e.delay.is_buy,o.date=e.delay.date),e.warrantys.push(o)}),t.getHtml.then(function(o){a.html(ct.compile(o,e)),t.chooseWarranty=t.uiPlugin.checkbox({wrapper:a,name:"warranty",callback:function(e,a){Store.isFunction(t.callback)&&t.callback()}})}),t},checkCheckbox:function(e){var t=$(e.currentTarget),a=$(e.target),o=t.find("input");a.closest(".blue-checkbox").length||o.prop("checked",!o.prop("checked")).change()},selectItem:function(){var e=this,t={warrantys:[],choosed:[],total:0,normal:!1,other:!1};if(t.choosed=e.chooseWarranty.choosed(),t.choosed.length)for(var a=0,o=t.choosed.length;o>a;a++){var i=e.MobileGoodsService.mapWarrantys[t.choosed[a].id];t.warrantys.push(i),t.total+=0|i.price,"safety1"==i.postName&&(t.normal=!0),"safety2"==i.postName&&(t.other=!0)}return t}})}),window.Store.addView("UILoop",function(){return Backbone.View.extend({events:{mouseenter:"loopEnter",mouseleave:"loopLeave","click .js-loop-dot-item":"changeCurItem","click .js-loop-prev":"loopPrev","click .js-loop-next":"loopNext"},initialize:function(e){var t=this;t.options=$.extend({mark:"loop",wrapperClass:"on",itemClass:"selected",dotClass:"on",$loopDotList:t.$(".loop-dot-list"),auto:!1,useDot:!0,time:3e3},e)},render:function(){var e=this,t=ct.get("uiLoopDot",!0);if(e.$loopItem=e.options.$loopList||e.$(".js-loop-item"),e.$loopDotList=e.options.$loopDotList||e.$(".loop-dot-list"),e.options.useDot){for(var a="",o=0,i=e.$loopItem.length;i>o;o++)a+=ct.compile(t,{});e.$loopDotList.html(a)}return e.$loopDotItem=e.$(".js-loop-dot-item"),e.loopIndex=0,e.isInGallery=!1,e.loopUpdate(0),this},changeCurItem:function(e){var t=this,a=$(e.currentTarget);return a.hasClass(t.options.dotClass)?!1:void t.loopUpdate(a.index())},loopEnter:function(){var e=this;return e.options.auto&&e.options.useDot?(e.$el.toggleClass(e.options.wrapperClass,!0),e.isInGallery=!0,void e.loopStop()):!1},loopLeave:function(){var e=this;return e.options.auto&&e.options.useDot?(e.$el.toggleClass(e.options.wrapperClass,!1),e.isInGallery=!1,void e.loopStart()):!1},loopStart:function(){var e=this;e.autoLoop=Store.loop[e.options.mark]=setInterval(function(){e.loopNext()},e.options.time)},loopStop:function(){var e=this;e.autoLoop&&clearInterval(e.autoLoop)},loopPrev:function(){var e=this,t=--e.loopIndex<0?e.$loopItem.length-1:e.loopIndex;e.loopUpdate(t)},loopNext:function(){var e=this,t=++e.loopIndex>e.$loopItem.length-1?0:e.loopIndex;e.loopUpdate(t)},loopUpdate:function(e){var t=this;t.loopIndex=e,t.loopStop(),t.$loopItem.toggleClass(t.options.itemClass,!1),t.$loopDotItem.toggleClass(t.options.dotClass,!1),t.$loopItem.eq(e).toggleClass(t.options.itemClass,!0),t.$loopDotItem.eq(e).toggleClass(t.options.dotClass,!0),t.options.auto&&!t.isInGallery&&t.loopStart()}})}),window.Store.addView("NoticeDialog",function(){return Backbone.View.extend({events:{"click .js-close-notice":"closeNotice"},initialize:function(){var e=this;e.getTpl=ct.get("dialog-notice"),e.AccountModel=Store.getModel("Account")},render:function(){var e=this,t=$.cookies.get("couponNotice"),a=e.AccountModel.toJSON();return 1!=t&&a.couponNotice?(e.getTpl.done(function(t){e.$el.html(ct.compile(t,{}))}),Store.config.layoutContainer.append(e.$el),e.$el.show().delay().toggleClass("on",!0),$.cookies.set("couponNotice",1),e):e},closeNotice:function(e){{var t=this;$(e.currentTarget)}t.remove()}})}),window.Store.addView("CartWarrantyDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.MobileGoodsService=Store.getService("MobileGoods"),e.UI=Store.getPlugin("UI"),e.dialogPlugin=Store.getPlugin("Dialog"),e.dialogOptions={mark:"cartWarranty",once:!0,hasBtn:!1,useBtn:!0,dialogClass:"module-dialog-cart-warranty",templateUrl:"dialog-cart-warranty"}},render:function(e,t){var a=this,o=$.extend({},a.dialogOptions),i=a.MobileGoodsService.mapWarrantys[e],n=$.extend({},i);o.title="购买"+n.name,o.templateData=n,o.content=function(e){a.uiCheckboxGoods=a.UI.checkbox({wrapper:e.$con,name:"agree",callback:function(t){var a=t.prop("checked");e.$(".js-dialog-done").toggleClass("disabled-btn",!a)}}),e.$(".js-agree-label").on("click",function(e){var t=$(this),a=$(e.target);if(!a.closest(".blue-checkbox").length){var o=t.find("input"),i=o.prop("checked");o.prop("checked",!i).change()}})},o.cancel=function(e){e.close()},o.done=function(e,a){return e.$(".js-dialog-done").hasClass("disabled-btn")?!1:(Store.isFunction(t)&&t(),void e.close())},a.dialogPlugin.create(o).show()}})}),window.Store.addView("PaymentDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.UtilService=Store.getService("Util"),e.PaymentService=Store.getService("Payment"),e.dialogPlugin=Store.getPlugin("Dialog"),e.radioPayType=null,e.radioPayChannel=null,e.dialogOptions={mark:"payment",once:!0,dialogClass:"module-dialog-payment",title:"选择支付方式",templateUrl:"dialog-payment",hasBtn:!1,templateData:{payment:e.PaymentService.type},content:function(t){t.$con.on("click",".js-choose-pay-channel",function(){t.close()}),t.$con.on("click",".js-payment-complete",function(){var a=ct.get("tempPaymentResult",!0),o=t.templateData.order,i={result:!0},n=o.isSupport;e.PaymentService.paymentStatus(o,n).done(function(r){if(1==r.status&&(i.result=!1),!n&&0==o.pay_status&&o.orderRealTotal>r.order_amount&&(i.result=!0),!n&&i.result){var s=+new Date,c=Store.filter.date(s,"YYYY-MM-DD hh:mm:ss"),l=0;$.each(o.carts,function(e,t){l+=0|t.num}),c=l+"_"+c,e.UtilService.SMpvPayment(o.order_amount,o.order_id||555,c),t.setCloseAction(function(){e.linkOrder(o)})}t.$con.find(".animate-layer").append(ct.compile(a,{order:t.templateData.order,payment:i})),t.change({title:i.result?"完成支付":"支付失败",curPanel:".payment",targetPanel:".payment-complete",height:471,dialogTop:270,callback:function(){e.doCountdown(t)}})})}),t.$con.on("click",".js-link-order",function(){var a=t.templateData.order;e.linkOrder(a),t.close()})}}},render:function(e,t){{var a=this,t=$.extend({},t),o=$.extend({},a.dialogOptions);o.content,t.isPreorder,t.isSupport}o.templateData.order=t;var i=[];switch($.each(a.PaymentService.type.installment,function(e,a){var o=t.orderRealTotal*(1+a.fee/100);i.push($.extend({},a,{total:o,single:o/a.period,poundage:t.orderRealTotal*a.monthFee/100}))}),o.templateData.payment.installment=i,e){case"result":o.templateData.isResult=!0,o.title="支付";break;case"complete":o.title="完成支付",o.content=function(e){e.$(".animate-layer").height(471);var o=ct.get("tempPaymentResult",!0),i=e.templateData.order,n={result:!0};e.$(".animate-layer").html(ct.compile(o,{order:i,payment:n}));var r=+new Date,s=Store.filter.date(r,"YYYY-MM-DD hh:mm:ss"),c=0;$.each(i.carts,function(e,t){c+=0|t.num}),s=c+"_"+s,a.UtilService.SMpvPayment(i.order_amount,i.order_id||555,s),e.$con.on("click",".js-link-order",function(){var t=e.templateData.order;a.linkOrder(t),e.close()}),n.result&&e.setCloseAction(function(){a.linkOrder(t)}),a.doCountdown(e)}}return a.dialogPlugin.create(o).show()},doCountdown:function(e){var t=this;Store.filter.countdown({time:10,$label:e.$(".gray-text b"),callback:function(){var a=e.templateData.order;t.linkOrder(a),e.close()},abort:function(){return $(".module-dialog-payment").length?!0:!1}})},linkOrder:function(e){var t=Backbone.history.getFragment();t=e.isSupport?"account/supportdetail/"+e.ao_id:"account/orderdetail/"+e.order_id,Store.Router.navigate(t,{trigger:!0})}})}),window.Store.addView("AddressDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.addressService=Store.getService("Address"),e.addressModel=Store.getModel("Address"),e.dialogPlugin=Store.getPlugin("Dialog"),e.scrollbarPlugin=Store.getPlugin("Scrollbar"),e.dialogOptions={mark:"address",once:!0,dialogClass:"module-dialog-address",title:"管理收货地址",templateUrl:"dialog-address",doneText:"保存",content:function(e){},done:function(){}}},render:function(e,t,a){var o=this,i=$.extend({},o.dialogOptions);switch(e){case"save":i.templateData={saveAddress:!0},i.content=function(e){o.initSaveAddress(e,"save")};break;case"add":i.templateData={saveAddress:!0},i.content=function(e){o.initSaveAddress(e,"add")};break;case"choose":i.templateData={chooseAddress:!0,addresses:a},i.hasBtn=!1,i.content=function(e){o.initChooseAddress(e,t,a)}}return o.dialogPlugin.create(i).show()},initSaveAddress:function(e,t){var a=this,o=new(Store.getModel("AddressForm"))(a.model.toJSON()),i=new(Store.getView("AddressForm"))({el:e.$con.find(".save-address-box"),model:o,useVerify:!0,button:e.$done,done:function(o,i){var n=$.extend({id:a.model.get("id")},o);switch(t){case"add":a.addressService.addAddress(n);break;case"save":a.addressService.updateAddress(n)}e.close()}});i.render()},initChooseAddress:function(e,t,a){{var o=this,i=30+137*a.length,n=e.$con.find(".js-address-choose");o.scrollbarPlugin.bind(n,470,i)}e.$con.on("click",".js-choose-address",function(){var a=$(this).closest(".address-list-item"),o=Store.getCollection("AddressItem").get({id:a.data("id")});t(o),e.close()})}})}),window.Store.addView("AddressWarningDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.dialogPlugin=Store.getPlugin("Dialog"),e.dialogOptions={mark:"addressWarning",once:!0,dialogClass:"module-dialog-address-warning",title:"提示信息",templateUrl:"dialog-address-warning",doneText:"我知道了",hasBtn:!1,content:function(e){e.$(".blue-main-btn").on("click",function(){e.close()})}}},render:function(e){var t=this,a=$.extend({},t.dialogOptions);return t.dialogPlugin.create(a).show()}})}),window.Store.addView("OrderConfirmDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.uiPlugin=Store.getPlugin("UI"),e.dialogPlugin=Store.getPlugin("Dialog"),e.UtilService=Store.getService("Util"),e.OrderService=Store.getService("Order"),e.button={},e.dialogOptions={mark:"orderConfirm",once:!0,dialogClass:"module-dialog-confirm-order",title:"确认信息",templateUrl:"dialog-order-confirm",cancelText:"返回",content:function(t){e.button=e.uiPlugin.loadingBtn(t.$done)}}},render:function(e,t){var a=this,o=$.extend({},a.dialogOptions);return o.templateData={order:e,isNormalInvoice:0==e.invoice_style,isPersonalInvoice:0==e.invoice_type},Store.config.isMobile||e.isSupport&&1==e.type?void(Store.isFunction(t)&&t()):(e.isSupport&&(o.dialogClass+=" module-dialog-confirm-support"),o.done=function(e){e.loadingBtn=a.button,t(e),a.button.loading()},a.dialogPlugin.create(o).show())}})}),window.Store.addView("ChooseWarrantyDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;ct.get("choose-warranty"),e.dialogPlugin=Store.getPlugin("Dialog"),e.MobileService=Store.getService("Mobile"),e.MobileGoodsService=Store.getService("MobileGoods"),e.dialogOptions={mark:"chooseWarranty",once:!0,dialogClass:"module-popup-choose-safety",title:"购买保修服务",templateUrl:"dialog-warranty",hasBtn:!1,content:function(e){}}},render:function(e){var t=this,a=$.extend({},t.dialogOptions),o=$.extend({visibleWarranty:!0},e);a.templateData=o;var i=t.dialogPlugin.create(a);return i.setDialog(function(e){var a=new(Store.getView("ChooseWarranty"))({el:e.$(".js-choose-warranty-wrapper")});a.render(o),e.$con.on("click",".js-link-confirm-safety",function(){var t=a.selectItem();if(t.choosed.length){e.$(".safety-confirm-list").html(ct.compile(ct.get("tempChoosedWarrantyItem",!0),{warrantys:t.warrantys})),e.$(".pay-amount").text("金额："+Store.filter.rmb(t.total,!0));var o=269-(120-60*t.choosed.length),i=470-(240-120*t.choosed.length);e.$(".js-confirm-safety").height(i),e.change({title:"确认购买服务",curPanel:".js-choose-safety",targetPanel:".js-confirm-safety",height:i,dialogTop:o})}}),e.$con.on("click",".js-buy-safety",function(){var i=a.selectItem();if(i.choosed.length){var n=("o"+(new Date).getTime(),{pre_order_id:o.order_id,pay_type:2});$.each(i.warrantys,function(e,t){n[t.postName]=t.sku}),t.MobileService.completeTempOrder(n).done(function(t){e.close(),Store.Router.navigate("checkout/"+t.id,{trigger:!0})})}})}),i.show()}})}),window.Store.addView("SupportAgreementDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.dialogPlugin=Store.getPlugin("Dialog"),e.UtilService=Store.getService("Util"),e.SupportService=Store.getService("Support"),e.dialogOptions={mark:"supportAgreement",once:!0,dialogClass:"module-dialog-aftermarket-agreement",title:"用户数据安全免责声明",templateUrl:"dialog-support-agreement",hasCancel:!1,doneText:"我已同意该声明并提交售后服务要求",content:function(t){t.$con.on("click",".online-services",function(t){t.preventDefault(),e.UtilService.openLive800Diag()})}}},render:function(e,t,a){var o=this,i=$.extend({},o.dialogOptions);return 1!=a?(o.createTempOrder(e,t),!1):(i.done=function(a){o.createTempOrder(e,t),a.close()},void o.dialogPlugin.create(i).show())},createTempOrder:function(e,t){var a=this,o="so"+(new Date).getTime(),i=e.order_id+","+t;a.SupportService.removeCache(),$.cookies.set(o,i),window.location.href="#/support/confirm/"+o}})}),window.Store.addView("VerifyUpdate",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.OrderService=Store.getService("Order"),e.dialogPlugin=Store.getPlugin("Dialog"),e.verifyPlugin=Store.getPlugin("Verify"),e.dialogOptions={mark:"verify",once:!0,dialogClass:"module-dialog-verify-update",title:"安全验证",templateUrl:"dialog-verifyauth",content:function(t){var a=t.$(".js-send-message"),o=t.$(".js-countdown-btn");e.verifyPlugin.bindVerify({wrapper:t.$con,verifyDom:".js-verify",button:t.$done,success:function(e){t.done(t,e)}}),t.$con.on("click",".js-send-message",function(){e.OrderService.sendVerifyMessage(),a.hide(),o.show(),Store.filter.countdown({time:60,$label:o.find("em"),callback:function(){a.show(),o.hide()}})})}}},render:function(e,t){var a=this,o=$.extend({},a.dialogOptions);o.templateData={label:t},o.done=function(t,o){o&&(console.log(o),a.OrderService.verifyMessage(o.formData).done(function(){t.close(),"function"==typeof e&&e()}).fail(function(e,a,i){10016==e&&o.thrown(t.$('[name="verify_content"]'),"验证码不正确",!0)}))},a.dialogPlugin.create(o).show()}})}),window.Store.addView("SupportImeiDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.uiPlugin=Store.getPlugin("UI"),e.VerifyPlugin=Store.getPlugin("Verify"),e.dialogPlugin=Store.getPlugin("Dialog"),e.OrderParseService=Store.getService("OrderParse"),e.SupportService=Store.getService("Support"),e.MobileGoodsService=Store.getService("MobileGoods"),e.dialogOptions={mark:"support",once:!0,dialogClass:"module-dialog-imei",title:"输入 IMEI 号",templateUrl:"dialog-imei",templateData:{},hasCancel:!1,doneText:"确认提交"},e.returnBtn=$('<div class="blue-main-btn normal-main-btn return-btn"><a>重新输入</a></div>')},render:function(){var e=this,t=$.extend({},e.dialogOptions);t.content=function(t){t.$done.before(e.returnBtn.hide()),e.uiPlugin.captcha({wrapper:t.$con});var a=e.VerifyPlugin.bindVerify({wrapper:t.$con,verifyDom:".js-verify",button:t.$done,success:function(e){t.done(t,e)}});e.returnBtn.on("click",function(){a.reset(t.$con),t.$(".verifycon").click(),e.returnBtn.hide(),t.change({title:"输入 IMEI 号",curPanel:".js-imei-fail",targetPanel:".js-imei-panel",callback:function(){t.$done.show()}})})},t.done=function(t,a){if(a){var o=Store.getData(t.$con);e.SupportService.getDetailByImei(o).done(function(a){a.goods=[{goods_id:a.goods_id}];var i=e.OrderParseService.parseGoods(a.goods,{}),n=e.MobileGoodsService.mapPhones[i.mobileData.sku];return i.isMobileOrder&&n?(t.$done.hide(),t.$(".js-imei-complete").html(ct.compile(ct.get("tempDialogImeiResult",!0),{prod:{img:n.image,name:n.name,imei:o.imei}})),void t.change({title:"提交成功",curPanel:".js-imei-panel",targetPanel:".js-imei-complete",height:329,dialogTop:233,callback:function(){t.$done.children("a").text("提交售后服务要求"),t.$done.addClass("apply-btn").show(),t.done=function(){var o="so"+(new Date).getTime(),i=e.OrderParseService.createImeiCache(a);e.SupportService.removeCache(),$.cookies.set(o,i),t.close(),window.location.href="#/support/imei/"+o}}})):(t.$done.hide(),t.change({title:"验证失败",curPanel:".js-imei-panel",targetPanel:".js-imei-fail",callback:function(){e.returnBtn.show()}}),!1)}).fail(function(o,i,n){10014==o&&(a.thrown(t.$('[name="captcha_code"]'),"不正确",!0),t.$('[name="captcha_code"]').val("").focus(),t.$(".verifycon").click()),(10015==o||10016==o||30012==o||30024==o)&&(t.$done.hide(),t.change({title:"验证失败",curPanel:".js-imei-panel",targetPanel:".js-imei-fail",callback:function(){e.returnBtn.show()}}))})}},e.dialogPlugin.create(t).show()}})}),window.Store.addView("SupportPostageDialog",function(){return Backbone.View.extend({el:"body",initialize:function(e){var t=this;t.verifyPlugin=Store.getPlugin("Verify"),t.dialogPlugin=Store.getPlugin("Dialog"),t.addressService=Store.getService("Address"),t.SupportService=Store.getService("Support"),t.paymentService=Store.getService("Payment"),t.initCity=!0,t.initDistrict=!0,t.curAddress=new(Store.getModel("AddressForm")),t.getProvinceList=t.addressService.getAllProvince(),t.bankList=t.paymentService.type.postageBank,t.dialogOptions={mark:"support",once:!0,dialogClass:"module-dialog-postage",title:"报销邮资",templateUrl:"dialog-postage",hasCancel:!1,doneText:"确认提交"}},render:function(e,t){var a=this,o=(a.$el,$.extend({},a.dialogOptions));return o.templateData=e,a.isLoading=!1,o.content=function(e){var t=new(Store.getView("AddressArea"))({el:e.$con});t.render(),a.getProvinceList.done(function(t){a.renderBank(a.bankList,e.$(".bank")),a.verifyPlugin.bindVerify({wrapper:e.$con,verifyDom:".js-verify",button:e.$done,success:function(t){e.done(e,t)}})})},o.done=function(o,i){if(i&&!a.isLoading){a.isLoading=!0;var n=Store.getData(o.$con);n.ao_id=e.ao_id,a.SupportService.applyPostage(n).done(function(){o.change({title:"提交成功",curPanel:".js-postage-panel",targetPanel:".js-postage-complete",height:412,callback:function(){o.$done.children("a").text("完成"),o.setCloseAction(function(){"function"==typeof t&&t()}),o.done=function(){o.close()}}})}).fail(function(){a.isLoading=!1})}},a.dialogPlugin.create(o).show(),a},renderBank:function(e,t){var a=[];$.each(e,function(e,t){a.push(ct.compile(ct.get("tempSelectOptions",!0),t))}),t.append(a)}})}),window.Store.addView("DownloadInvoiceDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this;e.dialogPlugin=Store.getPlugin("Dialog"),e.OrderService=Store.getService("Order"),e.dialogOptions={mark:"downloadInvoice",once:!0,dialogClass:"module-dialog-download-invoice",title:"下载发票",templateUrl:"dialog-download-invoice",hasCancel:!1,downText:"返回",content:function(t){t.$con.on("click",".js-down-invoice-btn",function(){var t=$(this);e.OrderService.downInvoice(t.data("code"),t.data("type"))})}}},render:function(e){var t=this,a=$.extend({},t.dialogOptions),o=e,i=[];return o.isSupport?i.push({key:o.ao_id,invoice_name_cn:"维修发票",type:"support",check_link:o.invoice_url}):o.invoice_links&&o.invoice_links.constructor==Array&&$.each(o.invoice_links,function(e,t){i.push($.extend({},t,{type:o.isPreorder?"preorder":"order"}))}),a.templateData={links:i},t.dialogPlugin.create(a).show()}})}),window.Store.addView("FiilDialog",function(){return Backbone.View.extend({el:"body",initialize:function(){var e=this,e=this;e.OrderService=Store.getService("Order"),e.dialogPlugin=Store.getPlugin("Dialog"),e.verifyPlugin=Store.getPlugin("Verify"),e.dialogOptions={mark:"verify",once:!0,hasBtn:!1,useBtn:!0,dialogClass:"module-dialog-fiil",title:"预约 FIIL 头戴式耳机 Smartisan 定制版",templateUrl:"dialog-fiil",content:function(t){e.verifyPlugin.bindVerify({wrapper:t.$con,verifyDom:".js-verify",button:t.$(".js-dialog-done"),success:function(e){t.done(t,e)}}),t.templateData&&t.templateData.mobile&&t.$("input[name=mobile]").blur()}}},render:function(e,t,a){var o=this,i=$.extend({},o.dialogOptions);i.templateData={mobile:t},i.cancel=function(e){a.reset(),e.close()},i.done=function(t,a){a&&Store.isFunction(e)&&e(a.formData.mobile,t)},o.dialogPlugin.create(i).show()}})}),window.Store.addView("ServiceStatus",function(){return Backbone.View.extend({el:".content",initialize:function(){},events:{"click .js-link-home":"linkHome"},render:function(e){var t=this;t.isAbort=!1,t.doCountdown()},linkHome:function(){var e=this;e.isAbort=!0,window.location.href="#/"},doCountdown:function(){var e=this;Store.filter.countdown({time:10,$label:e.$(".js-down-count"),callback:function(){e.isAbort=!0,e.linkHome()},abort:function(){return e.isAbort||"service-status"!=Store.currentView.url?!1:!0}})}})});